{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/components/Features/I18nProvider.tsx"],"sourcesContent":["\"use client\";\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\n// Import der Übersetzungsdateien\nimport deTranslations from \"../../i18n/locales/de.json\";\nimport enTranslations from \"../../i18n/locales/en.json\";\nimport esTranslations from \"../../i18n/locales/es.json\";\n\nconst translations: Record<string, Record<string, any>> = {\n  de: deTranslations,\n  en: enTranslations,\n  es: esTranslations,\n};\n\ntype Language = \"de\" | \"en\" | \"es\";\n\ninterface I18nContextType {\n  language: Language;\n  setLanguage: (lang: Language) => void;\n  t: (key: string) => string;\n}\n\nconst I18nContext = createContext<I18nContextType | undefined>(undefined);\n\nexport const useI18n = () => {\n  const context = useContext(I18nContext);\n  if (!context) {\n    throw new Error(\"useI18n must be used within an I18nProvider\");\n  }\n  return context;\n};\n\ninterface I18nProviderProps {\n  children: React.ReactNode;\n}\n\nexport const I18nProvider: React.FC<I18nProviderProps> = ({ children }) => {\n  const [language, setLanguage] = useState<Language>(\"de\");\n  const [isClient, setIsClient] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n    // Sprache aus localStorage laden\n    try {\n      const savedLanguage = localStorage.getItem(\"lopez-it-welt-sprache\") as Language;\n      if (savedLanguage && [\"de\", \"en\", \"es\"].includes(savedLanguage)) {\n        setLanguage(savedLanguage);\n      }\n    } catch (error) {\n      console.warn(\"Fehler beim Laden der Sprache aus localStorage:\", error);\n    }\n  }, []);\n\n  const handleSetLanguage = (lang: Language) => {\n    setLanguage(lang);\n    if (isClient) {\n      try {\n        localStorage.setItem(\"lopez-it-welt-sprache\", lang);\n      } catch (error) {\n        console.warn(\"Fehler beim Speichern der Sprache in localStorage:\", error);\n      }\n    }\n  };\n\n  const t = (key: string): string => {\n    try {\n      // Nested key lookup (e.g., \"hauptbereiche.elemente.it_support.titel\")\n      const keys = key.split(\".\");\n      let value: any = translations[language];\n\n      // Prüfen ob die Sprache existiert\n      if (!value) {\n        console.warn(`Language ${language} not found in translations`);\n        return key;\n      }\n\n      for (const k of keys) {\n        if (value && typeof value === \"object\" && k in value) {\n          value = (value as Record<string, any>)[k];\n        } else {\n          // Debugging: Log missing keys in development\n          if (process.env.NODE_ENV === \"development\") {\n            console.warn(`Missing translation key: ${key} for language: ${language}`);\n          }\n          // Fallback: Versuche deutsche Übersetzung\n          if (language !== \"de\") {\n            let fallbackValue: any = translations[\"de\"];\n            for (const fallbackKey of keys) {\n              if (\n                fallbackValue &&\n                typeof fallbackValue === \"object\" &&\n                fallbackKey in fallbackValue\n              ) {\n                fallbackValue = (fallbackValue as Record<string, any>)[fallbackKey];\n              } else {\n                return key;\n              }\n            }\n            return typeof fallbackValue === \"string\" ? fallbackValue : key;\n          }\n          return key;\n        }\n      }\n\n      return typeof value === \"string\" ? value : key;\n    } catch (error) {\n      console.error(\"Fehler bei der Übersetzung:\", error);\n      return key;\n    }\n  };\n\n  const value = {\n    language,\n    setLanguage: handleSetLanguage,\n    t,\n  };\n\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\n};\n\nexport default I18nProvider;\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA,iCAAiC;AACjC;AACA;AACA;AANA;;;;;;AAQA,MAAM,eAAoD;IACxD,IAAI,+GAAc;IAClB,IAAI,+GAAc;IAClB,IAAI,+GAAc;AACpB;AAUA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAMO,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,YAAY;QACZ,iCAAiC;QACjC,IAAI;YACF,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,iBAAiB;gBAAC;gBAAM;gBAAM;aAAK,CAAC,QAAQ,CAAC,gBAAgB;gBAC/D,YAAY;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,IAAI,CAAC,mDAAmD;QAClE;IACF,GAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC;QACzB,YAAY;QACZ,IAAI,UAAU;YACZ,IAAI;gBACF,aAAa,OAAO,CAAC,yBAAyB;YAChD,EAAE,OAAO,OAAO;gBACd,QAAQ,IAAI,CAAC,sDAAsD;YACrE;QACF;IACF;IAEA,MAAM,IAAI,CAAC;QACT,IAAI;YACF,sEAAsE;YACtE,MAAM,OAAO,IAAI,KAAK,CAAC;YACvB,IAAI,QAAa,YAAY,CAAC,SAAS;YAEvC,kCAAkC;YAClC,IAAI,CAAC,OAAO;gBACV,QAAQ,IAAI,CAAC,CAAC,SAAS,EAAE,SAAS,0BAA0B,CAAC;gBAC7D,OAAO;YACT;YAEA,KAAK,MAAM,KAAK,KAAM;gBACpB,IAAI,SAAS,OAAO,UAAU,YAAY,KAAK,OAAO;oBACpD,QAAQ,AAAC,KAA6B,CAAC,EAAE;gBAC3C,OAAO;oBACL,6CAA6C;oBAC7C,wCAA4C;wBAC1C,QAAQ,IAAI,CAAC,CAAC,yBAAyB,EAAE,IAAI,eAAe,EAAE,UAAU;oBAC1E;oBACA,0CAA0C;oBAC1C,IAAI,aAAa,MAAM;wBACrB,IAAI,gBAAqB,YAAY,CAAC,KAAK;wBAC3C,KAAK,MAAM,eAAe,KAAM;4BAC9B,IACE,iBACA,OAAO,kBAAkB,YACzB,eAAe,eACf;gCACA,gBAAgB,AAAC,aAAqC,CAAC,YAAY;4BACrE,OAAO;gCACL,OAAO;4BACT;wBACF;wBACA,OAAO,OAAO,kBAAkB,WAAW,gBAAgB;oBAC7D;oBACA,OAAO;gBACT;YACF;YAEA,OAAO,OAAO,UAAU,WAAW,QAAQ;QAC7C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;QACT;IACF;IAEA,MAAM,QAAQ;QACZ;QACA,aAAa;QACb;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;uCAEe","debugId":null}}]
}