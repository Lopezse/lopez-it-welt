{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/lib/utils.ts"],"sourcesContent":["/**\n * üõ†Ô∏è Enterprise++ Utility Functions\n *\n * Sammlung von n√ºtzlichen Utility-Funktionen:\n * - Class Name Utilities (cn)\n * - String Utilities\n * - Date Utilities\n * - Validation Utilities\n *\n * @author Lopez IT Welt Enterprise++\n * @version 1.0.0\n * @date 2025-09-20\n */\n\nimport { type ClassValue, clsx } from \"clsx\";\n\n/**\n * Kombiniert class names mit clsx\n * @param inputs - Class values\n * @returns Combined class string\n */\nexport function cn(...inputs: ClassValue[]) {\n  return clsx(inputs);\n}\n\n/**\n * Formatiert einen String zu einem g√ºltigen CSS-Klassen-Namen\n * @param str - Input string\n * @returns Formatted class name\n */\nexport function formatClassName(str: string): string {\n  return str\n    .replace(/([A-Z])/g, \"-$1\")\n    .replace(/^-/, \"\")\n    .toLowerCase()\n    .replace(/[^a-z0-9-]/g, \"-\")\n    .replace(/-+/g, \"-\")\n    .replace(/^-|-$/g, \"\");\n}\n\n/**\n * Generiert eine zuf√§llige ID\n * @param prefix - Optional prefix\n * @returns Random ID\n */\nexport function generateId(prefix: string = \"id\"): string {\n  return `${prefix}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n/**\n * Debounce function\n * @param func - Function to debounce\n * @param wait - Wait time in ms\n * @returns Debounced function\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number,\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\n\n/**\n * Throttle function\n * @param func - Function to throttle\n * @param limit - Limit time in ms\n * @returns Throttled function\n */\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number,\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean;\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n\n/**\n * Formatiert ein Datum\n * @param date - Date object or string\n * @param format - Format string\n * @returns Formatted date string\n */\nexport function formatDate(\n  date: Date | string,\n  format: \"short\" | \"long\" | \"time\" | \"datetime\" = \"short\",\n): string {\n  const d = new Date(date);\n\n  switch (format) {\n    case \"short\":\n      return d.toLocaleDateString(\"de-DE\");\n    case \"long\":\n      return d.toLocaleDateString(\"de-DE\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      });\n    case \"time\":\n      return d.toLocaleTimeString(\"de-DE\");\n    case \"datetime\":\n      return d.toLocaleString(\"de-DE\");\n    default:\n      return d.toLocaleDateString(\"de-DE\");\n  }\n}\n\n/**\n * Validiert eine E-Mail-Adresse\n * @param email - Email string\n * @returns True if valid\n */\nexport function isValidEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Validiert eine Telefonnummer\n * @param phone - Phone string\n * @returns True if valid\n */\nexport function isValidPhone(phone: string): boolean {\n  const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\n  return phoneRegex.test(phone.replace(/\\s/g, \"\"));\n}\n\n/**\n * Generiert eine zuf√§llige Farbe\n * @returns Random color hex\n */\nexport function getRandomColor(): string {\n  return \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n}\n\n/**\n * Konvertiert Hex zu RGB\n * @param hex - Hex color\n * @returns RGB object\n */\nexport function hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\n/**\n * Konvertiert RGB zu Hex\n * @param r - Red value\n * @param g - Green value\n * @param b - Blue value\n * @returns Hex color string\n */\nexport function rgbToHex(r: number, g: number, b: number): string {\n  return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\n/**\n * Kopiert Text in die Zwischenablage\n * @param text - Text to copy\n * @returns Promise<boolean>\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    await navigator.clipboard.writeText(text);\n    return true;\n  } catch (error) {\n    console.error(\"Copy to clipboard failed:\", error);\n    return false;\n  }\n}\n\n/**\n * Speichert Daten im Local Storage\n * @param key - Storage key\n * @param value - Value to store\n * @returns Success boolean\n */\nexport function setLocalStorage(key: string, value: any): boolean {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n    return true;\n  } catch (error) {\n    console.error(\"Local storage set failed:\", error);\n    return false;\n  }\n}\n\n/**\n * L√§dt Daten aus dem Local Storage\n * @param key - Storage key\n * @param defaultValue - Default value if not found\n * @returns Stored value or default\n */\nexport function getLocalStorage<T>(key: string, defaultValue: T): T {\n  try {\n    const item = localStorage.getItem(key);\n    return item ? JSON.parse(item) : defaultValue;\n  } catch (error) {\n    console.error(\"Local storage get failed:\", error);\n    return defaultValue;\n  }\n}\n\n/**\n * Entfernt Daten aus dem Local Storage\n * @param key - Storage key\n * @returns Success boolean\n */\nexport function removeLocalStorage(key: string): boolean {\n  try {\n    localStorage.removeItem(key);\n    return true;\n  } catch (error) {\n    console.error(\"Local storage remove failed:\", error);\n    return false;\n  }\n}\n\n/**\n * Generiert einen Slug aus einem String\n * @param str - Input string\n * @returns URL-safe slug\n */\nexport function generateSlug(str: string): string {\n  return str\n    .toLowerCase()\n    .replace(/[^\\w\\s-]/g, \"\")\n    .replace(/[\\s_-]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n}\n\n/**\n * Truncates text to specified length\n * @param text - Input text\n * @param length - Max length\n * @param suffix - Suffix to add\n * @returns Truncated text\n */\nexport function truncateText(text: string, length: number, suffix: string = \"...\"): string {\n  if (text.length <= length) return text;\n  return text.substring(0, length) + suffix;\n}\n\n/**\n * Capitalizes first letter of string\n * @param str - Input string\n * @returns Capitalized string\n */\nexport function capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Converts string to title case\n * @param str - Input string\n * @returns Title case string\n */\nexport function toTitleCase(str: string): string {\n  return str.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/components/ui/Card.tsx"],"sourcesContent":["/**\n * üÉè Enterprise++ Card Component\n *\n * Universelle Card-Komponente f√ºr das Design-System:\n * - Flexible Props f√ºr verschiedene Anwendungsf√§lle\n * - Konsistente Styling-Optionen\n * - Accessibility-konform\n * - Dark Mode Support\n *\n * @author Lopez IT Welt Enterprise++\n * @version 1.0.0\n * @date 2025-09-20\n */\n\n\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport React from \"react\";\n\nexport interface CardProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  variant?: \"default\" | \"outlined\" | \"elevated\" | \"filled\" | \"glass\" | \"premium\";\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n  padding?: \"none\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\n  radius?: \"none\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\n  shadow?: \"none\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\n  bg?:\n    | \"white\"\n    | \"gray\"\n    | \"blue\"\n    | \"green\"\n    | \"red\"\n    | \"yellow\"\n    | \"purple\"\n    | \"transparent\"\n    | \"weiss10\";\n  border?: boolean;\n  hoverable?: boolean;\n  focusable?: boolean;\n  interactive?: boolean;\n  className?: string;\n}\n\nexport const Card: React.FC<CardProps> = ({\n  children,\n  variant = \"default\",\n  size = \"md\",\n  padding = \"md\",\n  radius = \"lg\",\n  shadow = \"sm\",\n  bg = \"white\",\n  border = true,\n  hoverable = false,\n  focusable = false,\n  interactive = false,\n  className = \"\",\n  ...props\n}) => {\n  const baseClasses = \"block\";\n\n  const variantClasses = {\n    default: \"bg-white border border-gray-200\",\n    outlined: \"bg-transparent border-2 border-gray-300\",\n    elevated: \"bg-white shadow-lg border-0\",\n    filled: \"bg-gray-50 border border-gray-200\",\n    glass: \"bg-white/80 backdrop-blur-sm border border-white/20\",\n    premium: \"bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200\",\n  };\n\n  const sizeClasses = {\n    sm: \"text-sm\",\n    md: \"text-base\",\n    lg: \"text-lg\",\n    xl: \"text-xl\",\n  };\n\n  const paddingClasses = {\n    none: \"p-0\",\n    sm: \"p-3\",\n    md: \"p-4\",\n    lg: \"p-6\",\n    xl: \"p-8\",\n  };\n\n  const radiusClasses = {\n    none: \"rounded-none\",\n    sm: \"rounded-sm\",\n    md: \"rounded-md\",\n    lg: \"rounded-lg\",\n    xl: \"rounded-xl\",\n    \"2xl\": \"rounded-2xl\",\n  };\n\n  const shadowClasses = {\n    none: \"shadow-none\",\n    sm: \"shadow-sm\",\n    md: \"shadow-md\",\n    lg: \"shadow-lg\",\n    xl: \"shadow-xl\",\n    \"2xl\": \"shadow-2xl\",\n  };\n\n  const bgClasses = {\n    white: \"bg-white\",\n    gray: \"bg-gray-50\",\n    blue: \"bg-blue-50\",\n    green: \"bg-green-50\",\n    red: \"bg-red-50\",\n    yellow: \"bg-yellow-50\",\n    purple: \"bg-purple-50\",\n    transparent: \"bg-transparent\",\n    weiss10: \"bg-white/10\",\n  };\n\n  const interactiveClasses = cn(\n    hoverable && \"hover:shadow-md hover:scale-[1.02] transition-all duration-200\",\n    focusable && \"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",\n    interactive && \"cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all duration-200\",\n  );\n\n  const cardClasses = cn(\n    baseClasses,\n    variantClasses[variant],\n    sizeClasses[size],\n    paddingClasses[padding],\n    radiusClasses[radius],\n    shadowClasses[shadow],\n    bgClasses[bg],\n    !border && \"border-0\",\n    interactiveClasses,\n    className,\n  );\n\n  return (\n    <div className={cardClasses} tabIndex={focusable ? 0 : undefined} {...props}>\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;CAYC;;;;;;;AAID;AAFA;;;AA6BO,MAAM,OAA4B,CAAC,EACxC,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,UAAU,IAAI,EACd,SAAS,IAAI,EACb,SAAS,IAAI,EACb,KAAK,OAAO,EACZ,SAAS,IAAI,EACb,YAAY,KAAK,EACjB,YAAY,KAAK,EACjB,cAAc,KAAK,EACnB,YAAY,EAAE,EACd,GAAG,OACJ;IACC,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,UAAU;QACV,UAAU;QACV,QAAQ;QACR,OAAO;QACP,SAAS;IACX;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,iBAAiB;QACrB,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,gBAAgB;QACpB,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,OAAO;IACT;IAEA,MAAM,YAAY;QAChB,OAAO;QACP,MAAM;QACN,MAAM;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,QAAQ;QACR,aAAa;QACb,SAAS;IACX;IAEA,MAAM,qBAAqB,IAAA,yHAAE,EAC3B,aAAa,kEACb,aAAa,2EACb,eAAe;IAGjB,MAAM,cAAc,IAAA,yHAAE,EACpB,aACA,cAAc,CAAC,QAAQ,EACvB,WAAW,CAAC,KAAK,EACjB,cAAc,CAAC,QAAQ,EACvB,aAAa,CAAC,OAAO,EACrB,aAAa,CAAC,OAAO,EACrB,SAAS,CAAC,GAAG,EACb,CAAC,UAAU,YACX,oBACA;IAGF,qBACE,8OAAC;QAAI,WAAW;QAAa,UAAU,YAAY,IAAI;QAAY,GAAG,KAAK;kBACxE;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/components/ui/Dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode, useState } from \"react\";\n\nexport function useDialog() {\n  const [open, setOpen] = useState(false);\n  return { open, setOpen };\n}\n\nexport function Dialog({\n  open,\n  onClose,\n  children,\n}: {\n  open: boolean;\n  onClose: () => void;\n  children: ReactNode;\n}) {\n  if (!open) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 bg-black/40 flex items-center justify-center\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white rounded-xl shadow-xl w-full max-w-lg p-4\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,OAAO;QAAE;QAAM;IAAQ;AACzB;AAEO,SAAS,OAAO,EACrB,IAAI,EACJ,OAAO,EACP,QAAQ,EAKT;IACC,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;kBAET,cAAA,8OAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;sBAEhC;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/lib/ki-action-tracker.ts"],"sourcesContent":["export interface KIAction {\n  id: string;\n  type: \"session_start\" | \"session_end\" | \"task_complete\" | \"error\" | \"interaction\";\n  module: string;\n  taetigkeit: string;\n  ausloeser: string;\n  problem?: string;\n  timestamp: string;\n  duration_minutes?: number;\n}\n\nexport interface KISession {\n  session_id: string;\n  modul: string;\n  start_time: string;\n  end_time?: string;\n  duration_minutes?: number;\n  triggered_by: string;\n  summary: string;\n  tool_used: string;\n  status: \"active\" | \"completed\" | \"interrupted\";\n  created_at: string;\n  updated_at: string;\n}\n\nclass KIActionTracker {\n  private currentSession: KIAction | null = null;\n  private sessionStartTime: Date | null = null;\n  private lastActionTime: Date | null = null;\n  private currentKISession: KISession | null = null;\n  private interactions: KIAction[] = [];\n  private errors: KIAction[] = [];\n\n  // Trigger-Erkennung f√ºr Sprach-/Textbefehle\n  private triggerKeywords = [\n    \"mach\",\n    \"erstelle\",\n    \"baue\",\n    \"entwickle\",\n    \"implementiere\",\n    \"programmiere\",\n    \"login\",\n    \"register\",\n    \"dashboard\",\n    \"admin\",\n    \"shop\",\n    \"api\",\n    \"database\",\n    \"fix\",\n    \"repariere\",\n    \"korrigiere\",\n    \"debug\",\n    \"optimize\",\n    \"verbessere\",\n  ];\n\n  private endKeywords = [\n    \"danke\",\n    \"fertig\",\n    \"erledigt\",\n    \"abgeschlossen\",\n    \"done\",\n    \"complete\",\n    \"stopp\",\n    \"ende\",\n    \"beende\",\n    \"stop\",\n    \"finish\",\n  ];\n\n  // Automatische Trigger-Erkennung\n  detectTrigger(input: string): boolean {\n    const lowerInput = input.toLowerCase();\n    return this.triggerKeywords.some((keyword) => lowerInput.includes(keyword));\n  }\n\n  // Automatische Ende-Erkennung\n  detectEnd(input: string): boolean {\n    const lowerInput = input.toLowerCase();\n    return this.endKeywords.some((keyword) => lowerInput.includes(keyword));\n  }\n\n  // Intelligente Session-Erstellung basierend auf Trigger\n  startSessionFromTrigger(trigger: string, module?: string): void {\n    const sessionId = `ki_${new Date().toISOString().split(\"T\")[0]}-${module?.toUpperCase() || \"TASK\"}-${Math.random().toString(36).substr(2, 6)}`;\n\n    // Modul aus Trigger extrahieren\n    const extractedModule = this.extractModuleFromTrigger(trigger);\n    const finalModule = module || extractedModule || \"general\";\n\n    // Zusammenfassung aus Trigger generieren\n    const summary = this.generateSummaryFromTrigger(trigger);\n\n    this.currentKISession = {\n      session_id: sessionId,\n      modul: finalModule,\n      start_time: new Date().toISOString(),\n      triggered_by: `Sprach-/Textbefehl: ${trigger}`,\n      summary: summary,\n      tool_used: \"Cursor + GPT-4 + Next.js + Tailwind\",\n      status: \"active\",\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    };\n\n    this.sessionStartTime = new Date();\n    this.lastActionTime = new Date();\n\n    // In Time-Tracking eintragen\n    this.createTimeTrackingSession(finalModule, summary, trigger);\n\n    // console.log(`ü§ñ KI-Session gestartet: ${finalModule} - ${summary}`);\n    // console.log(`üìù Trigger: \"${trigger}\"`);\n  }\n\n  // Standard startSession Methode f√ºr direkte Aufrufe\n  startSession(module: string, taetigkeit: string, ausloeser: string): void {\n    const sessionId = `ki_${new Date().toISOString().split(\"T\")[0]}-${module.toUpperCase()}-${Math.random().toString(36).substr(2, 6)}`;\n\n    this.currentKISession = {\n      session_id: sessionId,\n      modul: module,\n      start_time: new Date().toISOString(),\n      triggered_by: ausloeser,\n      summary: taetigkeit,\n      tool_used: \"Cursor + GPT-4 + Next.js + Tailwind\",\n      status: \"active\",\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    };\n\n    this.sessionStartTime = new Date();\n    this.lastActionTime = new Date();\n\n    // In Time-Tracking eintragen\n    this.createTimeTrackingSession(module, taetigkeit, ausloeser);\n\n    // console.log('ü§ñ KI-Session gestartet:', module, taetigkeit);\n  }\n\n  // Modul aus Trigger extrahieren\n  private extractModuleFromTrigger(trigger: string): string {\n    const lowerTrigger = trigger.toLowerCase();\n\n    if (lowerTrigger.includes(\"login\")) return \"login-page\";\n    if (lowerTrigger.includes(\"register\")) return \"register-page\";\n    if (lowerTrigger.includes(\"dashboard\")) return \"admin-dashboard\";\n    if (lowerTrigger.includes(\"admin\")) return \"admin-system\";\n    if (lowerTrigger.includes(\"shop\")) return \"e-commerce\";\n    if (lowerTrigger.includes(\"api\")) return \"api-development\";\n    if (lowerTrigger.includes(\"database\")) return \"database\";\n    if (lowerTrigger.includes(\"fix\") || lowerTrigger.includes(\"repariere\")) return \"bugfix\";\n    if (lowerTrigger.includes(\"optimize\") || lowerTrigger.includes(\"verbessere\"))\n      return \"optimization\";\n\n    return \"general-development\";\n  }\n\n  // Zusammenfassung aus Trigger generieren\n  private generateSummaryFromTrigger(trigger: string): string {\n    const lowerTrigger = trigger.toLowerCase();\n\n    if (lowerTrigger.includes(\"login\"))\n      return \"Login-System erstellt mit E-Mail, Passwort, Validierung\";\n    if (lowerTrigger.includes(\"register\"))\n      return \"Registrierung erstellt mit Benutzerdaten, E-Mail-Best√§tigung\";\n    if (lowerTrigger.includes(\"dashboard\"))\n      return \"Admin-Dashboard erstellt mit Statistiken und Verwaltung\";\n    if (lowerTrigger.includes(\"shop\"))\n      return \"E-Commerce-System erstellt mit Produkten, Warenkorb, Checkout\";\n    if (lowerTrigger.includes(\"api\")) return \"API-Endpoints erstellt mit CRUD-Operationen\";\n    if (lowerTrigger.includes(\"database\"))\n      return \"Datenbankstruktur erstellt mit Tabellen und Beziehungen\";\n    if (lowerTrigger.includes(\"fix\")) return \"Bugfix durchgef√ºhrt und Probleme behoben\";\n    if (lowerTrigger.includes(\"optimize\")) return \"Performance-Optimierung durchgef√ºhrt\";\n\n    return `Task ausgef√ºhrt: ${trigger}`;\n  }\n\n  // Automatisch Session beenden\n  endSession(problem?: string): void {\n    if (!this.currentKISession || !this.sessionStartTime) {\n      // console.log(`‚ùå Keine aktive KI-Session zum Beenden`);\n      return;\n    }\n\n    const endTime = new Date();\n    const durationMs = endTime.getTime() - this.sessionStartTime.getTime();\n    const durationMinutes = Math.round(durationMs / (1000 * 60));\n\n    // KI-Session aktualisieren\n    this.currentKISession.end_time = endTime.toISOString();\n    this.currentKISession.duration_minutes = durationMinutes;\n    this.currentKISession.status = \"completed\";\n    this.currentKISession.updated_at = endTime.toISOString();\n\n    // In JSON-Datei speichern\n    this.saveSessionToDatabase(this.currentKISession);\n\n    // Session in Time-Tracking beenden\n    this.completeTimeTrackingSession(problem);\n\n    // console.log(`‚úÖ KI-Session beendet: ${this.currentKISession.modul} (${durationMinutes} Min)`);\n    // console.log(`üìä Zusammenfassung: ${this.currentKISession.summary}`);\n\n    this.currentKISession = null;\n    this.sessionStartTime = null;\n    this.lastActionTime = null;\n  }\n\n  // Automatisch Interaktion erfassen\n  logInteraction(module: string, taetigkeit: string, ausloeser: string, problem?: string) {\n    // console.log(`üìù KI-Interaktion: ${module} - ${taetigkeit}`);\n\n    const action: KIAction = {\n      id: `interaction_${Date.now()}_${Math.random().toString(36).substr(2, 6)}`,\n      type: \"interaction\",\n      module,\n      taetigkeit,\n      ausloeser,\n      problem,\n      timestamp: new Date().toISOString(),\n    };\n\n    this.interactions.push(action);\n  }\n\n  // Automatisch Fehler erfassen\n  logError(module: string, taetigkeit: string, ausloeser: string, error: string) {\n    // console.log(`‚ùå KI-Fehler: ${module} - ${taetigkeit} - ${error}`);\n\n    const action: KIAction = {\n      id: `error_${Date.now()}_${Math.random().toString(36).substr(2, 6)}`,\n      type: \"error\",\n      module,\n      taetigkeit,\n      ausloeser,\n      problem: error,\n      timestamp: new Date().toISOString(),\n    };\n\n    this.errors.push(action);\n\n    // Time-Tracking Session f√ºr Fehler erstellen\n    this.createTimeTrackingSession(module, taetigkeit, ausloeser, error, \"interrupted\");\n  }\n\n  // Hilfsmethoden f√ºr Time-Tracking\n  private async createTimeTrackingSession(\n    module: string,\n    taetigkeit: string,\n    ausloeser: string,\n    problem?: string,\n    status: \"active\" | \"completed\" | \"interrupted\" = \"active\",\n  ) {\n    try {\n      const response = await fetch(\"/api/admin/time-tracking/sessions\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user_id: 1, // KI-User\n          module,\n          taetigkeit,\n          ausloeser,\n          problem,\n          category: \"ki_interaction\",\n          priority: \"high\",\n          status,\n        }),\n      });\n\n      if (response.ok) {\n        const session = await response.json();\n        console.log(`‚úÖ KI-Time-Tracking Session erstellt: ${session.module}`);\n        return session;\n      }\n    } catch (error) {\n      console.error(\"‚ùå Fehler beim Erstellen der KI-Time-Tracking Session:\", error);\n    }\n  }\n\n  private async completeTimeTrackingSession(problem?: string) {\n    try {\n      // Aktive Sessions finden und beenden\n      const response = await fetch(\"/api/admin/time-tracking/sessions\");\n      if (response.ok) {\n        const sessions = await response.json();\n        const activeSessions = sessions.filter(\n          (s: { user_id: number; status: string; category: string }) =>\n            s.user_id === 1 && s.status === \"active\" && s.category === \"ki_interaction\",\n        );\n\n        for (const session of activeSessions) {\n          await fetch(`/api/admin/time-tracking/sessions/${session.id}/complete`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              status: \"completed\",\n              problem,\n            }),\n          });\n        }\n      }\n    } catch (error) {\n      console.error(\"‚ùå Fehler beim Beenden der KI-Time-Tracking Sessions:\", error);\n    }\n  }\n\n  // KI-Session in JSON-Datei speichern\n  async saveSessionToDatabase(session: KISession): Promise<void> {\n    try {\n      const response = await fetch(\"/api/admin/ki-sessions\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(session),\n      });\n\n      if (response.ok) {\n        // console.log('üíæ KI-Session gespeichert:', session.session_id);\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Speichern der KI-Session:\", error);\n    }\n  }\n\n  // Aktuelle Session abrufen\n  getCurrentSession(): KISession | null {\n    return this.currentKISession;\n  }\n\n  // Alle Sessions abrufen\n  async getAllSessions(): Promise<KISession[]> {\n    try {\n      const response = await fetch(\"/api/admin/ki-sessions\");\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.error(\"‚ùå Fehler beim Abrufen der KI-Sessions:\", error);\n    }\n    return [];\n  }\n\n  // Intelligente Trigger-Erkennung f√ºr aktuelle Aktionen\n  detectAndStartSession(input: string): boolean {\n    if (this.detectTrigger(input)) {\n      this.startSessionFromTrigger(input);\n      return true;\n    }\n    return false;\n  }\n\n  // Intelligente Ende-Erkennung f√ºr aktuelle Aktionen\n  detectAndEndSession(input: string): boolean {\n    if (this.detectEnd(input)) {\n      this.endSession(\"Benutzer hat Session beendet\");\n      return true;\n    }\n    return false;\n  }\n\n  endCurrentSession() {\n    if (!this.currentKISession) {\n      // console.log('‚ùå Keine aktive KI-Session zum Beenden');\n      return;\n    }\n\n    const endTime = new Date();\n    const durationMs = endTime.getTime() - new Date(this.currentKISession.start_time).getTime();\n    // const durationMinutes = Math.round(durationMs / (1000 * 60));\n\n    // console.log(\n    //   `‚úÖ KI-Session beendet: ${this.currentKISession.modul} (${durationMs} ms)`\n    // );\n\n    this.currentKISession = null;\n  }\n}\n\n// Singleton-Instanz exportieren\nconst kiTracker = new KIActionTracker();\nexport default kiTracker;\n\n// Automatische Session-Beendigung beim Verlassen der Seite\nif (typeof window !== \"undefined\") {\n  window.addEventListener(\"beforeunload\", () => {\n    kiTracker.endSession(\"Seite verlassen\");\n  });\n\n  // DEAKTIVIERT: Automatische Session-Beendigung bei Tab-Wechsel\n  // document.addEventListener('visibilitychange', () => {\n  //     if (document.hidden) {\n  //         kiTracker.logInteraction(\n  //             'Global-Layout',\n  //             'Tab verlassen/versteckt',\n  //             'Visibility-Change'\n  //         );\n  //     } else {\n  //         kiTracker.logInteraction(\n  //             'Global-Layout',\n  //             'Tab wieder aktiv',\n  //             'Visibility-Change'\n  //         );\n  //     }\n  // });\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/components/Features/Timer.tsx"],"sourcesContent":["\"use client\";\nimport { Card } from \"@/components/ui/Card\";\nimport { useEffect, useState } from \"react\";\n\ninterface TimerProps {\n  sessionId?: number;\n  onSessionComplete?: (duration: number) => void;\n  onStop?: () => void;\n  autoStart?: boolean;\n}\n\nexport default function Timer({ sessionId, onSessionComplete, onStop, autoStart = false }: TimerProps) {\n  const [isRunning, setIsRunning] = useState(false);\n  const [seconds, setSeconds] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [pausedSeconds, setPausedSeconds] = useState(0);\n\n  useEffect(() => {\n    if (autoStart && sessionId) {\n      startTimer();\n    }\n  }, [autoStart, sessionId]);\n\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n\n    if (isRunning && !isPaused) {\n      interval = setInterval(() => {\n        setSeconds((prev) => prev + 1);\n      }, 1000);\n    }\n\n    return () => clearInterval(interval);\n  }, [isRunning, isPaused]);\n\n  const startTimer = () => {\n    setIsRunning(true);\n    setIsPaused(false);\n    // console.log('‚è±Ô∏è Timer gestartet');\n  };\n\n  const pauseTimer = () => {\n    if (isRunning) {\n      setIsPaused(true);\n      setPausedSeconds(seconds);\n      // console.log('‚è∏Ô∏è Timer pausiert');\n    }\n  };\n\n  const resumeTimer = () => {\n    if (isPaused) {\n      setIsPaused(false);\n      // console.log('‚ñ∂Ô∏è Timer fortgesetzt');\n    }\n  };\n\n  const stopTimer = () => {\n    setIsRunning(false);\n    setIsPaused(false);\n    const totalSeconds = seconds;\n    setSeconds(0);\n    setPausedSeconds(0);\n\n    // Zuerst onStop aufrufen (um Session zu beenden)\n    if (onStop) {\n      onStop();\n    }\n\n    // Dann onSessionComplete mit Dauer aufrufen\n    if (onSessionComplete) {\n      onSessionComplete(Math.round(totalSeconds / 60)); // Minuten\n    }\n\n    // console.log('‚èπÔ∏è Timer gestoppt - Dauer:', formatTime(totalSeconds));\n  };\n\n  const formatTime = (totalSeconds: number) => {\n    const hours = Math.floor(totalSeconds / 3600);\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\n    const secs = totalSeconds % 60;\n    return `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  const getDisplayTime = () => {\n    return formatTime(isPaused ? pausedSeconds : seconds);\n  };\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"text-center\">\n        <div className=\"text-4xl font-mono font-bold text-gray-900 mb-4\">{getDisplayTime()}</div>\n\n        <div className=\"flex justify-center space-x-3\">\n          {!isRunning ? (\n            <button\n              onClick={startTimer}\n              className=\"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              ‚ñ∂Ô∏è Start\n            </button>\n          ) : isPaused ? (\n            <button\n              onClick={resumeTimer}\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              ‚ñ∂Ô∏è Fortsetzen\n            </button>\n          ) : (\n            <button\n              onClick={pauseTimer}\n              className=\"bg-yellow-600 text-white px-6 py-2 rounded-lg hover:bg-yellow-700 transition-colors\"\n            >\n              ‚è∏Ô∏è Pause\n            </button>\n          )}\n\n          {isRunning && (\n            <button\n              onClick={stopTimer}\n              className=\"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors\"\n            >\n              ‚èπÔ∏è Stop\n            </button>\n          )}\n        </div>\n\n        {isPaused && (\n          <div className=\"mt-3 text-sm text-gray-600\">\n            ‚è∏Ô∏è Pausiert bei {formatTime(pausedSeconds)}\n          </div>\n        )}\n\n        {isRunning && !isPaused && <div className=\"mt-3 text-sm text-green-600\">‚è±Ô∏è L√§uft...</div>}\n      </div>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAWe,SAAS,MAAM,EAAE,SAAS,EAAE,iBAAiB,EAAE,MAAM,EAAE,YAAY,KAAK,EAAc;IACnG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,IAAA,kNAAS,EAAC;QACR,IAAI,aAAa,WAAW;YAC1B;QACF;IACF,GAAG;QAAC;QAAW;KAAU;IAEzB,IAAA,kNAAS,EAAC;QACR,IAAI;QAEJ,IAAI,aAAa,CAAC,UAAU;YAC1B,WAAW,YAAY;gBACrB,WAAW,CAAC,OAAS,OAAO;YAC9B,GAAG;QACL;QAEA,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAW;KAAS;IAExB,MAAM,aAAa;QACjB,aAAa;QACb,YAAY;IACZ,qCAAqC;IACvC;IAEA,MAAM,aAAa;QACjB,IAAI,WAAW;YACb,YAAY;YACZ,iBAAiB;QACjB,oCAAoC;QACtC;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,UAAU;YACZ,YAAY;QACZ,uCAAuC;QACzC;IACF;IAEA,MAAM,YAAY;QAChB,aAAa;QACb,YAAY;QACZ,MAAM,eAAe;QACrB,WAAW;QACX,iBAAiB;QAEjB,iDAAiD;QACjD,IAAI,QAAQ;YACV;QACF;QAEA,4CAA4C;QAC5C,IAAI,mBAAmB;YACrB,kBAAkB,KAAK,KAAK,CAAC,eAAe,MAAM,UAAU;QAC9D;IAEA,uEAAuE;IACzE;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,QAAQ,KAAK,KAAK,CAAC,eAAe;QACxC,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,eAAe,OAAQ;QACnD,MAAM,OAAO,eAAe;QAC5B,OAAO,GAAG,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAC1H;IAEA,MAAM,iBAAiB;QACrB,OAAO,WAAW,WAAW,gBAAgB;IAC/C;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BAAmD;;;;;;8BAElE,8OAAC;oBAAI,WAAU;;wBACZ,CAAC,0BACA,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;mCAGC,yBACF,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;iDAID,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;wBAKF,2BACC,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;gBAMJ,0BACC,8OAAC;oBAAI,WAAU;;wBAA6B;wBACzB,WAAW;;;;;;;gBAI/B,aAAa,CAAC,0BAAY,8OAAC;oBAAI,WAAU;8BAA8B;;;;;;;;;;;;;;;;;AAIhF","debugId":null}},
    {"offset": {"line": 789, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekte/lopez-it-welt/src/app/admin/time-tracking/page.tsx"],"sourcesContent":["\"use client\";\nimport { Card } from \"@/components/ui/Card\";\nimport { Dialog } from \"@/components/ui/Dialog\";\nimport kiTracker from \"@/lib/ki-action-tracker\";\nimport { useEffect, useState } from \"react\";\nimport Timer from \"../../../components/Features/Timer\";\nimport { TimeSession } from \"../../../lib/time-tracking-types\";\n\ninterface TimeStats {\n  totalSessions: number;\n  activeSessions: number;\n  totalTime: number;\n  todayTime: number;\n  statusStats: {\n    active: number;\n    completed: number;\n    interrupted: number;\n  };\n  categoryStats: { [key: string]: number };\n  problemStats: { [key: string]: number };\n  moduleStats: { [key: string]: number };\n  ausloeserStats: { [key: string]: number };\n  avgDuration: number;\n  successRate: number;\n}\n\nexport default function TimeTrackingPage() {\n  const [sessions, setSessions] = useState<TimeSession[]>([]);\n  const [stats, setStats] = useState<TimeStats>({\n    totalSessions: 0,\n    activeSessions: 0,\n    totalTime: 0,\n    todayTime: 0,\n    statusStats: { active: 0, completed: 0, interrupted: 0 },\n    categoryStats: {},\n    problemStats: {},\n    moduleStats: {},\n    ausloeserStats: {},\n    avgDuration: 0,\n    successRate: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<\"overview\" | \"sessions\" | \"billable\" | \"analytics\">(\"overview\");\n  const [billableEntries, setBillableEntries] = useState<any[]>([]);\n  const [billableLoading, setBillableLoading] = useState(false);\n  const [currentSession, setCurrentSession] = useState<TimeSession | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showProjectDialog, setShowProjectDialog] = useState(false);\n  const [projects, setProjects] = useState<any[]>([]);\n  const [orders, setOrders] = useState<any[]>([]);\n  const [tasks, setTasks] = useState<any[]>([]);\n  const [customers, setCustomers] = useState<any[]>([]);\n  const [newProject, setNewProject] = useState({\n    customer_id: \"\",\n    project_name: \"\",\n    project_code: \"\",\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    status: \"open\",\n  });\n  const [newSession, setNewSession] = useState<Partial<TimeSession>>({\n    module: \"\",\n    taetigkeit: \"\",\n    category: \"development\",\n    priority: \"medium\",\n    project_id: undefined,\n    order_id: undefined,\n    task_id: undefined,\n    problem: false,\n  });\n\n  useEffect(() => {\n    // Automatisch KI-Session starten\n    kiTracker.startSessionFromTrigger(\n      \"Zeiterfassung-Bereich laden und Sessions verwalten\",\n      \"Time-Tracking-Page-Component\",\n    );\n\n    const startAutomaticTracking = async () => {\n      try {\n        // Pr√ºfen ob bereits eine aktive Session f√ºr diesen Benutzer existiert\n        const response = await fetch(\"/api/admin/time-tracking/sessions\");\n        if (response.ok) {\n          const existingSessions = await response.json();\n          const activeSession = existingSessions.find(\n            (s: any) =>\n              s.user_id === 1 &&\n              s.status === \"active\" &&\n              !s.end_time\n          );\n\n          if (activeSession) {\n            // Verwende bestehende aktive Session (egal welches Modul)\n            setCurrentSession(activeSession);\n            return;\n          }\n        }\n\n        // NEUE AUTOMATISCHE SESSION DEAKTIVIERT\n        // Stattdessen: Benutzer muss manuell eine Session starten\n        // Dies verhindert automatische Duplikate\n        \n        // Automatische Session wird NICHT mehr erstellt\n        // Der Benutzer muss bewusst eine Session starten √ºber \"+ Neue Session\"\n        \n      } catch (error) {\n        console.error(\"‚ùå Fehler beim Pr√ºfen aktiver Sessions:\", error);\n      }\n    };\n\n    startAutomaticTracking();\n\n    loadData();\n    loadProjectsOrdersTasks();\n\n    // Abrechenbare Zeiten beim Laden des Tabs laden\n    const loadBillableEntries = async () => {\n      if (activeTab === \"billable\") {\n        setBillableLoading(true);\n        try {\n          const response = await fetch(\"/api/time/entries?approved=true&invoiced=false\");\n          if (response.ok) {\n            const data = await response.json();\n            setBillableEntries(data?.data?.items || []);\n          }\n        } catch (error) {\n          console.error(\"‚ùå Fehler beim Laden der abrechenbaren Zeiten:\", error);\n        } finally {\n          setBillableLoading(false);\n        }\n      }\n    };\n\n    // Lade abrechenbare Zeiten wenn Tab gewechselt wird\n    if (activeTab === \"billable\") {\n      loadBillableEntries();\n    }\n\n    // Heartbeat alle 20s, Auto-Pause bei Tab-Hidden\n    let heartbeatInterval: any;\n    const heartbeat = () => {\n      if (!currentSession?.id) return;\n      fetch(`/api/admin/time-tracking/sessions/${currentSession.id}/heartbeat`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ client_ts: new Date().toISOString() }),\n      }).catch(() => {});\n    };\n\n    heartbeatInterval = setInterval(heartbeat, 20000);\n\n    const handleVisibilityChange = () => {\n      if (document.hidden && currentSession) {\n        // Auto-Pause bei Tab-Hidden\n        handleSessionPause(currentSession.id);\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    // Cleanup: Session beenden beim Verlassen der Seite\n    return () => {\n      if (heartbeatInterval) clearInterval(heartbeatInterval);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n      if (currentSession) {\n        handleSessionComplete(currentSession.id, {});\n      }\n    };\n  }, [currentSession]);\n\n  // Projekte, Auftr√§ge und Aufgaben laden\n  const loadProjectsOrdersTasks = async () => {\n    try {\n      const [projectsRes, ordersRes, tasksRes, customersRes] = await Promise.all([\n        fetch(\"/api/projects\").catch(() => null),\n        fetch(\"/api/orders\").catch(() => null),\n        fetch(\"/api/tasks\").catch(() => null),\n        fetch(\"/api/admin/customers\").catch(() => null),\n      ]);\n\n      if (projectsRes?.ok) {\n        const data = await projectsRes.json();\n        console.log(\"üì¶ Projekte geladen:\", data);\n        const loadedProjects = data?.data?.projects || data?.projects || [];\n        setProjects(loadedProjects);\n        \n        // Automatisch Dialog √∂ffnen, wenn keine Projekte vorhanden\n        if (loadedProjects.length === 0 && !showProjectDialog) {\n          setShowProjectDialog(true);\n        }\n      } else {\n        console.error(\"‚ùå Projekte konnten nicht geladen werden:\", projectsRes?.status);\n      }\n\n      if (ordersRes?.ok) {\n        const data = await ordersRes.json();\n        setOrders(data?.data?.orders || data?.orders || []);\n      }\n\n      if (tasksRes?.ok) {\n        const data = await tasksRes.json();\n        console.log(\"üì¶ Aufgaben geladen:\", data);\n        setTasks(data?.data?.tasks || data?.tasks || []);\n      } else {\n        console.error(\"‚ùå Aufgaben konnten nicht geladen werden:\", tasksRes?.status);\n      }\n\n      if (customersRes?.ok) {\n        const data = await customersRes.json();\n        const loadedCustomers = data?.data?.customers || data?.customers || [];\n        setCustomers(loadedCustomers);\n        \n        // Ersten Kunden als Default setzen, wenn vorhanden\n        if (loadedCustomers.length > 0 && !newProject.customer_id) {\n          setNewProject((prev) => ({\n            ...prev,\n            customer_id: loadedCustomers[0].id.toString(),\n          }));\n        }\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden von Projekten/Auftr√§gen/Aufgaben:\", error);\n    }\n  };\n\n  // Daten laden - als separate Funktion definiert\n  const loadData = async () => {\n    try {\n      const [sessionsRes, statsRes] = await Promise.all([\n        fetch(\"/api/admin/time-tracking/sessions\"),\n        fetch(\"/api/admin/time-tracking/stats\"),\n      ]);\n\n      if (sessionsRes.ok) {\n        const sessionsData = await sessionsRes.json();\n        setSessions(sessionsData);\n\n        // KI-Interaktion loggen\n        kiTracker.logInteraction(\"Time-Tracking\", \"Sessions erfolgreich geladen\", \"API-Call\");\n      } else {\n        // Fehler loggen\n        kiTracker.logError(\n          \"Time-Tracking\",\n          \"Sessions laden fehlgeschlagen\",\n          \"API-Call\",\n          `HTTP ${sessionsRes.status}`,\n        );\n      }\n\n      if (statsRes.ok) {\n        const statsData = await statsRes.json();\n        setStats(statsData);\n\n        // KI-Interaktion loggen\n        kiTracker.logInteraction(\"Time-Tracking\", \"Statistiken erfolgreich geladen\", \"API-Call\");\n      } else {\n        // Fehler loggen\n        kiTracker.logError(\n          \"Time-Tracking\",\n          \"Statistiken laden fehlgeschlagen\",\n          \"API-Call\",\n          `HTTP ${statsRes.status}`,\n        );\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Laden der Daten:\", error);\n\n      // Fehler loggen\n      kiTracker.logError(\n        \"Time-Tracking\",\n        \"Daten laden fehlgeschlagen\",\n        \"API-Call\",\n        error instanceof Error ? error.message : \"Unbekannter Fehler\",\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Automatische Zeiterfassung f√ºr alle Aktionen\n  const logAction = (action: string, details?: string) => {\n    kiTracker.logInteraction(\"Time-Tracking\", action, \"Benutzer-Aktion\", details);\n  };\n\n  const handleSessionAction = async (\n    sessionId: string,\n    action: \"start\" | \"pause\" | \"stop\" | \"complete\",\n    sessionData?: Partial<TimeSession>,\n  ) => {\n    // Implementation for future feature\n  };\n\n  const handleSessionUpdate = async (sessionId: string, updateData: Partial<TimeSession>) => {\n    // Implementation for future feature\n  };\n\n  const handleStartSession = async () => {\n    try {\n      // Validierung wird bereits im Button onClick gemacht\n\n      // Pr√ºfe zuerst, ob bereits eine aktive Session existiert\n      if (currentSession && currentSession.status === \"active\" && !currentSession.end_time) {\n        const currentProject = projects.find((p) => p.id === currentSession.project_id);\n        const currentTask = tasks.find((t) => t.id === currentSession.task_id);\n        const currentSessionDesc =\n          currentProject && currentTask && currentSession.taetigkeit\n            ? `Projekt: ${currentProject.project_name || currentProject.name} ‚Äì Aufgabe: ${currentTask.task_title || currentTask.title} ‚Äî ${currentSession.taetigkeit}`\n            : currentSession.taetigkeit || currentSession.module;\n        const confirmClose = confirm(\n          `Sie haben bereits eine aktive Session: \"${currentSessionDesc}\". M√∂chten Sie diese zuerst beenden?`\n        );\n        if (confirmClose) {\n          await handleSessionComplete(currentSession.id, {});\n        } else {\n          return; // Benutzer m√∂chte nicht beenden - neue Session wird nicht erstellt\n        }\n      }\n\n      const sessionData: Partial<TimeSession> = {\n        user_id: 1,\n        taetigkeit: newSession.taetigkeit || \"\",\n        category: newSession.category || \"development\",\n        priority: newSession.priority || \"medium\",\n        project_id: newSession.project_id,\n        order_id: newSession.order_id,\n        task_id: newSession.task_id,\n        problem: newSession.problem || false,\n        status: \"active\",\n      };\n\n      const response = await fetch(\"/api/admin/time-tracking/sessions\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(sessionData),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        \n        // Pr√ºfe ob eine bestehende Session zur√ºckgegeben wurde (Status 200)\n        if (result.message && result.message === \"Aktive Session existiert bereits\") {\n          const existingProject = projects.find((p) => p.id === result.session.project_id);\n          const existingTask = tasks.find((t) => t.id === result.session.task_id);\n          const existingDesc = existingProject && existingTask\n            ? `${existingProject.project_name || existingProject.name} - ${existingTask.task_title || existingTask.title}: ${result.session.taetigkeit}`\n            : result.session.taetigkeit || result.session.module;\n          alert(`‚ö†Ô∏è Es existiert bereits eine aktive Session: \"${existingDesc}\". Bitte beenden Sie diese zuerst.`);\n          setCurrentSession(result.session);\n          setShowAddForm(false);\n          await loadData();\n          return;\n        }\n\n        // Neue Session wurde erstellt (Status 201)\n        const createdSession = result;\n        setCurrentSession(createdSession);\n        setShowAddForm(false);\n        \n        // Formular zur√ºcksetzen\n        setNewSession({\n          module: \"\",\n          taetigkeit: \"\",\n          category: \"development\",\n          priority: \"medium\",\n          project_id: undefined,\n          order_id: undefined,\n          task_id: undefined,\n          problem: false,\n        });\n\n        // Daten neu laden\n        await loadData();\n\n        // Erfolg loggen\n        kiTracker.logInteraction(\"Time-Tracking\", `Session gestartet: ${sessionData.module}`, \"User-Action\");\n      } else {\n        const error = await response.json();\n        setError(error.error || \"Fehler beim Starten der Session\");\n        kiTracker.logError(\"Time-Tracking\", \"Session starten fehlgeschlagen\", \"API-Call\", error.error);\n      }\n    } catch (error) {\n      console.error(\"‚ùå Fehler beim Starten der Session:\", error);\n      setError(error instanceof Error ? error.message : \"Fehler beim Starten der Session\");\n      kiTracker.logError(\"Time-Tracking\", \"Session starten fehlgeschlagen\", \"API-Call\", error instanceof Error ? error.message : \"Unbekannter Fehler\");\n    }\n  };\n\n  const handleSessionComplete = async (\n    sessionId: number,\n    completionData: {\n      bemerkung?: string;\n      naechster_schritt?: string;\n      kategorie?: string;\n      tags?: string[];\n    },\n  ) => {\n    try {\n      const response = await fetch(`/api/admin/time-tracking/sessions/${sessionId}/complete`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(completionData),\n      });\n\n      if (response.ok) {\n        const updatedSession = await response.json();\n        \n        // Aktuelle Session aktualisieren\n        if (currentSession?.id === sessionId) {\n          setCurrentSession(null);\n        }\n\n        // Sessions neu laden\n        await loadData();\n        \n        // Erfolg loggen\n        kiTracker.logInteraction(\"Time-Tracking\", `Session ${sessionId} erfolgreich beendet`, \"User-Action\");\n        \n        return updatedSession;\n      } else {\n        const error = await response.json();\n        setError(error.error || \"Fehler beim Beenden der Session\");\n        kiTracker.logError(\"Time-Tracking\", \"Session beenden fehlgeschlagen\", \"API-Call\", error.error);\n        throw new Error(error.error || \"Fehler beim Beenden der Session\");\n      }\n    } catch (error) {\n      console.error(\"‚ùå Fehler beim Beenden der Session:\", error);\n      setError(error instanceof Error ? error.message : \"Fehler beim Beenden der Session\");\n      kiTracker.logError(\"Time-Tracking\", \"Session beenden fehlgeschlagen\", \"API-Call\", error instanceof Error ? error.message : \"Unbekannter Fehler\");\n    }\n  };\n\n  const calculateDuration = (startTime: string, endTime?: string): string => {\n    const start = new Date(startTime);\n    const end = endTime ? new Date(endTime) : new Date();\n    const diffMs = end.getTime() - start.getTime();\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n    return `${diffHours}h ${diffMinutes}m`;\n  };\n\n  const formatDuration = (minutes: number) => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return hours > 0 ? `${hours}h ${mins}min` : `${mins}min`;\n  };\n\n  const formatDateTime = (dateString: string) => {\n    return new Date(dateString).toLocaleString(\"de-DE\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getStatusBadge = (status: string) => {\n    const styles = {\n      active: \"bg-green-100 text-green-800\",\n      completed: \"bg-blue-100 text-blue-800\",\n      interrupted: \"bg-red-100 text-red-800\",\n    };\n    return (\n      <span\n        className={`px-2 py-1 rounded-full text-xs font-medium ${styles[status as keyof typeof styles]}`}\n      >\n        {status === \"active\" ? \"Aktiv\" : status === \"completed\" ? \"Abgeschlossen\" : \"Unterbrochen\"}\n      </span>\n    );\n  };\n\n  const getPriorityBadge = (priority: string) => {\n    const styles = {\n      low: \"bg-gray-100 text-gray-800\",\n      medium: \"bg-yellow-100 text-yellow-800\",\n      high: \"bg-red-100 text-red-800\",\n    };\n    return (\n      <span\n        className={`px-2 py-1 rounded-full text-xs font-medium ${styles[priority as keyof typeof styles]}`}\n      >\n        {priority === \"low\" ? \"Niedrig\" : priority === \"medium\" ? \"Mittel\" : \"Hoch\"}\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Lade Zeiterfassungsdaten...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n          ‚è±Ô∏è Zeiterfassung & Projekt-Tracking\n        </h1>\n        <p className=\"text-gray-600\">Professionelle Zeitverfolgung f√ºr optimale Projektsteuerung</p>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"mb-6\">\n        <nav className=\"flex space-x-8\">\n          {[\n            { id: \"overview\", label: \"√úbersicht\", icon: \"üìä\" },\n            { id: \"sessions\", label: \"Sessions\", icon: \"‚è±Ô∏è\" },\n            { id: \"billable\", label: \"Abrechenbar\", icon: \"üí∞\" },\n            { id: \"analytics\", label: \"Analytics\", icon: \"üìà\" },\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              onClick={async () => {\n                setActiveTab(tab.id as any);\n                \n                // Beim Wechsel zum \"Abrechenbar\" Tab, lade die abrechenbaren Zeiten\n                if (tab.id === \"billable\") {\n                  setBillableLoading(true);\n                  try {\n                    const response = await fetch(\"/api/time/entries?approved=true&invoiced=false\");\n                    if (response.ok) {\n                      const data = await response.json();\n                      setBillableEntries(data?.data?.items || []);\n                    }\n                  } catch (error) {\n                    console.error(\"‚ùå Fehler beim Laden der abrechenbaren Zeiten:\", error);\n                  } finally {\n                    setBillableLoading(false);\n                  }\n                }\n              }}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${\n                activeTab === tab.id\n                  ? \"bg-blue-100 text-blue-700\"\n                  : \"text-gray-500 hover:text-gray-700\"\n              }`}\n            >\n              <span>{tab.icon}</span>\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Overview Tab */}\n      {activeTab === \"overview\" && stats && (\n        <div className=\"space-y-6\">\n          {/* Timer Component */}\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">‚è±Ô∏è Live Timer</h3>\n            <Timer\n              sessionId={currentSession?.id}\n              onStop={() => {\n                if (currentSession) {\n                  handleSessionComplete(currentSession.id, {});\n                }\n              }}\n              onSessionComplete={(duration) => {\n                // Wird nach onStop aufgerufen\n                console.log(`‚úÖ Session beendet - Dauer: ${duration} Minuten`);\n              }}\n              autoStart={!!currentSession}\n            />\n          </Card>\n\n          {/* Key Metrics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <Card className=\"p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-blue-100 rounded-lg\">\n                  <span className=\"text-2xl\">üìä</span>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Gesamt-Sessions</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stats.totalSessions}</p>\n                </div>\n              </div>\n            </Card>\n\n            <Card className=\"p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-green-100 rounded-lg\">\n                  <span className=\"text-2xl\">‚è±Ô∏è</span>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Aktive Sessions</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stats.activeSessions}</p>\n                </div>\n              </div>\n            </Card>\n\n            <Card className=\"p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                  <span className=\"text-2xl\">‚è∞</span>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Gesamtzeit</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {formatDuration(stats.totalTime)}\n                  </p>\n                </div>\n              </div>\n            </Card>\n\n            <Card className=\"p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-orange-100 rounded-lg\">\n                  <span className=\"text-2xl\">üìÖ</span>\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Heute</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {formatDuration(stats.todayTime)}\n                  </p>\n                </div>\n              </div>\n            </Card>\n          </div>\n\n          {/* Status Overview */}\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Status-√úbersicht</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">Abgeschlossen</p>\n                <p className=\"text-2xl font-bold text-green-600\">{stats.statusStats.completed}</p>\n              </div>\n              <div className=\"text-center p-4 bg-orange-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">Aktiv</p>\n                <p className=\"text-2xl font-bold text-orange-600\">{stats.statusStats.active}</p>\n              </div>\n              <div className=\"text-center p-4 bg-red-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">Unterbrochen</p>\n                <p className=\"text-2xl font-bold text-red-600\">{stats.statusStats.interrupted}</p>\n              </div>\n            </div>\n          </Card>\n\n          {/* Performance Metrics */}\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Performance-Metriken</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">Erfolgsrate</p>\n                <p className=\"text-3xl font-bold text-blue-600\">{stats.successRate}%</p>\n              </div>\n              <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">√ò Dauer</p>\n                <p className=\"text-3xl font-bold text-purple-600\">\n                  {formatDuration(stats.avgDuration)}\n                </p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {/* Sessions Tab */}\n      {activeTab === \"sessions\" && (\n        <div className=\"space-y-6\">\n          {/* New Session Button */}\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Zeiterfassungs-Sessions</h2>\n            <div className=\"flex space-x-3\">\n              {stats && stats.activeSessions > 0 && (\n                <button\n                  onClick={async () => {\n                    if (confirm(`M√∂chten Sie wirklich alle ${stats.activeSessions} aktiven Sessions beenden?`)) {\n                      try {\n                        setLoading(true);\n                        const response = await fetch(\"/api/admin/time-tracking/sessions/close-all\", {\n                          method: \"POST\",\n                          headers: { \"Content-Type\": \"application/json\" },\n                        });\n\n                        if (response.ok) {\n                          const result = await response.json();\n                          alert(`‚úÖ ${result.message || `${result.closedCount} Sessions erfolgreich beendet`}`);\n                          \n                          // Aktuelle Session zur√ºcksetzen\n                          setCurrentSession(null);\n                          \n                          // Daten neu laden\n                          await loadData();\n                          \n                          // Erfolg loggen\n                          kiTracker.logInteraction(\"Time-Tracking\", `Alle ${result.closedCount} Sessions beendet`, \"User-Action\");\n                        } else {\n                          const error = await response.json();\n                          setError(error.error || \"Fehler beim Beenden aller Sessions\");\n                          kiTracker.logError(\"Time-Tracking\", \"Alle Sessions beenden fehlgeschlagen\", \"API-Call\", error.error);\n                        }\n                      } catch (error) {\n                        console.error(\"‚ùå Fehler beim Beenden aller Sessions:\", error);\n                        setError(error instanceof Error ? error.message : \"Fehler beim Beenden aller Sessions\");\n                        kiTracker.logError(\"Time-Tracking\", \"Alle Sessions beenden fehlgeschlagen\", \"API-Call\", error instanceof Error ? error.message : \"Unbekannter Fehler\");\n                      } finally {\n                        setLoading(false);\n                      }\n                    }\n                  }}\n                  className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors\"\n                  title={`${stats.activeSessions} offene Sessions beenden`}\n                >\n                  üîí Alle beenden ({stats.activeSessions})\n                </button>\n              )}\n              <button\n                onClick={() => setShowAddForm(!showAddForm)}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                {showAddForm ? \"Abbrechen\" : \"+ Neue Session\"}\n              </button>\n            </div>\n          </div>\n\n          {/* New Session Form */}\n          {showAddForm && (\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Neue Session erstellen</h3>\n              <div className=\"space-y-4\">\n                {/* Projekt (Pflichtfeld) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Projekt <span className=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    value={newSession.project_id || \"\"}\n                    onChange={(e) => {\n                      const projectId = e.target.value ? parseInt(e.target.value) : undefined;\n                      setNewSession({\n                        ...newSession,\n                        project_id: projectId,\n                        task_id: undefined, // Reset Aufgabe wenn Projekt ge√§ndert wird\n                      });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">\n                      {projects.length === 0\n                        ? \"-- Bitte zuerst Projekt anlegen --\"\n                        : \"-- Projekt ausw√§hlen --\"}\n                    </option>\n                    {projects.length === 0 ? (\n                      <option value=\"\" disabled>\n                        Keine Projekte verf√ºgbar\n                      </option>\n                    ) : (\n                      projects.map((project) => (\n                        <option key={project.id} value={project.id}>\n                          {project.project_name || project.name || `Projekt ${project.id}`}\n                        </option>\n                      ))\n                    )}\n                  </select>\n                  {projects.length === 0 && (\n                    <div className=\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-md\">\n                      <p className=\"text-sm text-yellow-800 mb-2\">\n                        ‚ö†Ô∏è Keine Projekte verf√ºgbar. Bitte w√§hle ein Projekt aus oder lege ein neues an.\n                      </p>\n                      <button\n                        onClick={() => setShowProjectDialog(true)}\n                        className=\"w-full px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 text-center\"\n                      >\n                        ‚ûï Neues Projekt anlegen\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {/* Aufgabe (Pflichtfeld, gefiltert nach Projekt) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Aufgabe <span className=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    value={newSession.task_id || \"\"}\n                    onChange={(e) => {\n                      const taskId = e.target.value ? parseInt(e.target.value) : undefined;\n                      setNewSession({\n                        ...newSession,\n                        task_id: taskId,\n                      });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                    disabled={!newSession.project_id}\n                  >\n                    <option value=\"\">\n                      {!newSession.project_id\n                        ? \"-- Bitte zuerst Projekt ausw√§hlen --\"\n                        : \"-- Aufgabe ausw√§hlen --\"}\n                    </option>\n                    {tasks\n                      .filter((task) => !newSession.project_id || task.project_id === newSession.project_id)\n                      .length === 0 ? (\n                        <option value=\"\" disabled>\n                          {!newSession.project_id\n                            ? \"-- Bitte zuerst Projekt ausw√§hlen --\"\n                            : \"Keine Aufgaben f√ºr dieses Projekt verf√ºgbar\"}\n                        </option>\n                      ) : (\n                        tasks\n                          .filter((task) => !newSession.project_id || task.project_id === newSession.project_id)\n                          .map((task) => (\n                            <option key={task.id} value={task.id}>\n                              {task.task_title || task.title || `Aufgabe ${task.id}`}\n                            </option>\n                          ))\n                      )}\n                  </select>\n                </div>\n\n                {/* T√§tigkeit (Pflichtfeld) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    T√§tigkeit <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newSession.taetigkeit}\n                    onChange={(e) => {\n                      setNewSession({\n                        ...newSession,\n                        taetigkeit: e.target.value,\n                      });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"z.B. API-Routen testen und validieren\"\n                    minLength={8}\n                    maxLength={180}\n                    required\n                  />\n                  <p className=\"mt-1 text-xs text-gray-500\">\n                    8-180 Zeichen, keine technischen Namen (keine .tsx, Component, etc.)\n                  </p>\n                </div>\n              </div>\n              <div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Kategorie</label>\n                  <select\n                    value={newSession.category}\n                    onChange={(e) =>\n                      setNewSession({\n                        ...newSession,\n                        category: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"development\">Entwicklung</option>\n                    <option value=\"bugfix\">Bugfix</option>\n                    <option value=\"planning\">Planung</option>\n                    <option value=\"testing\">Testing</option>\n                    <option value=\"documentation\">Dokumentation</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Priorit√§t</label>\n                  <select\n                    value={newSession.priority}\n                    onChange={(e) =>\n                      setNewSession({\n                        ...newSession,\n                        priority: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"low\">Niedrig</option>\n                    <option value=\"medium\">Mittel</option>\n                    <option value=\"high\">Hoch</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"mt-4 flex justify-end space-x-3\">\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Abbrechen\n                </button>\n                <button\n                  onClick={() => {\n                    // Pflichtfelder-Validierung\n                    if (!newSession.project_id) {\n                      alert(\"‚ùå Bitte Projekt ausw√§hlen.\");\n                      return;\n                    }\n                    if (!newSession.task_id) {\n                      alert(\"‚ùå Bitte Aufgabe ausw√§hlen.\");\n                      return;\n                    }\n                    if (!newSession.taetigkeit || newSession.taetigkeit.trim().length < 8) {\n                      alert(\"‚ùå Bitte T√§tigkeit angeben (mindestens 8 Zeichen).\");\n                      return;\n                    }\n                    if (newSession.taetigkeit.length > 180) {\n                      alert(\"‚ùå T√§tigkeit darf maximal 180 Zeichen lang sein.\");\n                      return;\n                    }\n\n                    // Validierung: Keine technischen Namen\n                    const technicalPatterns = [\n                      /\\.tsx?$/i,\n                      /\\.jsx?$/i,\n                      /component/i,\n                      /page-component/i,\n                      /route/i,\n                      /index\\./i,\n                    ];\n                    const hasTechnicalPattern = technicalPatterns.some((pattern) =>\n                      pattern.test(newSession.taetigkeit),\n                    );\n                    if (hasTechnicalPattern) {\n                      alert(\n                        \"‚ùå T√§tigkeit enth√§lt technische Namen. Bitte verwende verst√§ndliche Beschreibungen wie 'API-Routen testen' statt 'Component.tsx'.\",\n                      );\n                      return;\n                    }\n\n                    // Session starten\n                    handleStartSession();\n                  }}\n                  disabled={\n                    !newSession.project_id ||\n                    !newSession.task_id ||\n                    !newSession.taetigkeit ||\n                    newSession.taetigkeit.trim().length < 8 ||\n                    newSession.taetigkeit.length > 180\n                  }\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Session starten\n                </button>\n              </div>\n            </Card>\n          )}\n\n          {/* Sessions List */}\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Aktuelle Sessions</h3>\n            {sessions.length === 0 ? (\n              <p className=\"text-gray-500 text-center py-8\">Keine Sessions vorhanden</p>\n            ) : (\n              <div className=\"space-y-4\">\n                {sessions\n                  .sort(\n                    (a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime(),\n                  )\n                  .map((session) => {\n                    // Projekt und Aufgabe aus sessions laden (falls verf√ºgbar)\n                    const project = projects.find((p) => p.id === session.project_id);\n                    const task = tasks.find((t) => t.id === session.task_id);\n\n                    return (\n                      <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex justify-between items-start mb-3\">\n                          <div className=\"flex-1\">\n                            {/* Projekt */}\n                            {project && (\n                              <div className=\"mb-1\">\n                                <span className=\"text-xs font-medium text-gray-500\">Projekt:</span>{\" \"}\n                                <span className=\"text-sm font-semibold text-gray-900\">\n                                  {project.project_name || project.name || `Projekt ${session.project_id}`}\n                                </span>\n                              </div>\n                            )}\n                            {/* Aufgabe */}\n                            {task && (\n                              <div className=\"mb-1\">\n                                <span className=\"text-xs font-medium text-gray-500\">Aufgabe:</span>{\" \"}\n                                <span className=\"text-sm font-semibold text-gray-900\">\n                                  {task.task_title || task.title || `Aufgabe ${session.task_id}`}\n                                </span>\n                              </div>\n                            )}\n                            {/* T√§tigkeit */}\n                            <div className=\"mb-1\">\n                              <span className=\"text-xs font-medium text-gray-500\">T√§tigkeit:</span>{\" \"}\n                              <span className=\"text-sm text-gray-700\">{session.taetigkeit}</span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center space-x-2 ml-4\">\n                            {getStatusBadge(session.status)}\n                            {getPriorityBadge(session.priority)}\n                          </div>\n                        </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-3\">\n                        <div>\n                          <span className=\"font-medium\">Start:</span>{\" \"}\n                          {formatDateTime(session.start_time)}\n                        </div>\n                        {session.end_time && (\n                          <div>\n                            <span className=\"font-medium\">Ende:</span>{\" \"}\n                            {formatDateTime(session.end_time)}\n                          </div>\n                        )}\n                        {session.duration_minutes && (\n                          <div>\n                            <span className=\"font-medium\">Dauer:</span>{\" \"}\n                            {formatDuration(session.duration_minutes)}\n                          </div>\n                        )}\n                      </div>\n\n                      {session.ausloeser && (\n                        <div className=\"text-sm text-gray-600 mb-2\">\n                          <span className=\"font-medium\">Ausl√∂ser:</span> {session.ausloeser}\n                        </div>\n                      )}\n\n                      {session.problem && (\n                        <div className=\"text-sm text-red-600 mb-3\">\n                          <span className=\"font-medium\">Problem:</span> {session.problem}\n                        </div>\n                      )}\n\n                      {session.status === \"active\" && (\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => handleSessionComplete(session.id, {})}\n                            className=\"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700\"\n                          >\n                            Abschlie√üen\n                          </button>\n                        </div>\n                      )}\n                      </div>\n                    );\n                  })}\n              </div>\n            )}\n          </Card>\n        </div>\n      )}\n\n      {/* Abrechenbar Tab */}\n      {activeTab === \"billable\" && (\n        <div className=\"space-y-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">üí∞ Abrechenbare Zeiten</h2>\n            <button\n              onClick={async () => {\n                setBillableLoading(true);\n                try {\n                  const response = await fetch(\"/api/time/entries?approved=true&invoiced=false\");\n                  if (response.ok) {\n                    const data = await response.json();\n                    setBillableEntries(data?.data?.items || []);\n                  } else {\n                    setError(\"Fehler beim Laden der abrechenbaren Zeiten\");\n                  }\n                } catch (error) {\n                  console.error(\"‚ùå Fehler beim Laden der abrechenbaren Zeiten:\", error);\n                  setError(\"Fehler beim Laden der abrechenbaren Zeiten\");\n                } finally {\n                  setBillableLoading(false);\n                }\n              }}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2\"\n            >\n              <span>üîÑ</span>\n              <span>Aktualisieren</span>\n            </button>\n          </div>\n\n          {billableLoading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n              <p className=\"mt-4 text-gray-600\">Lade abrechenbare Zeiten...</p>\n            </div>\n          ) : billableEntries.length === 0 ? (\n            <Card className=\"p-6\">\n              <p className=\"text-gray-500 text-center py-8\">\n                Keine abrechenbaren Zeiten gefunden. (Status: completed, approved=1, invoiced=0)\n              </p>\n            </Card>\n          ) : (\n            <Card className=\"p-6\">\n              <div className=\"mb-4 flex justify-between items-center\">\n                <h3 className=\"text-lg font-semibold\">\n                  Abrechenbare Zeiteintr√§ge ({billableEntries.length})\n                </h3>\n                <div className=\"text-sm text-gray-600\">\n                  Gesamt: {billableEntries.reduce((sum, e) => sum + (e.duration_minutes || 0), 0)} Min\n                  ({Math.round(billableEntries.reduce((sum, e) => sum + (e.duration_minutes || 0), 0) / 60 * 100) / 100} Std)\n                </div>\n              </div>\n              <div className=\"space-y-3\">\n                {billableEntries.map((entry: any) => (\n                  <div\n                    key={entry.id}\n                    className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors\"\n                  >\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <div className=\"flex-1\">\n                        {/* Rechnungsformat: Projekt: {project_name} ‚Äì Aufgabe: {task_name} ‚Äî {taetigkeit} */}\n                        <h4 className=\"font-semibold text-gray-900 mb-2\">\n                          {entry.project_name && entry.task_title && entry.taetigkeit\n                            ? `Projekt: ${entry.project_name} ‚Äì Aufgabe: ${entry.task_title} ‚Äî ${entry.taetigkeit}`\n                            : entry.taetigkeit || entry.module}\n                        </h4>\n                        <div className=\"mt-1 text-sm text-gray-600 space-y-1\">\n                          {entry.project_name && (\n                            <div>\n                              <span className=\"font-medium\">Projekt:</span> {entry.project_name}\n                            </div>\n                          )}\n                          {entry.task_title && (\n                            <div>\n                              <span className=\"font-medium\">Aufgabe:</span> {entry.task_title}\n                            </div>\n                          )}\n                          {entry.taetigkeit && (\n                            <div>\n                              <span className=\"font-medium\">T√§tigkeit:</span> {entry.taetigkeit}\n                            </div>\n                          )}\n                          {entry.order_number && (\n                            <div>\n                              <span className=\"font-medium\">Auftrag:</span> {entry.order_number}\n                            </div>\n                          )}\n                          {entry.category && (\n                            <div>\n                              <span className=\"font-medium\">Kategorie:</span> {entry.category}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"text-right ml-4\">\n                        <div className=\"text-lg font-bold text-green-600\">\n                          {formatDuration(entry.duration_minutes || 0)}\n                        </div>\n                        <div className=\"text-sm text-gray-600 mt-1\">\n                          {formatDateTime(entry.start_time)}\n                        </div>\n                        <div className=\"mt-2 flex space-x-2\">\n                          <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\n                            ‚úÖ Freigegeben\n                          </span>\n                          <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium\">\n                            üí∞ Offen\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          )}\n        </div>\n      )}\n\n      {/* Analytics Tab */}\n      {activeTab === \"analytics\" && stats && (\n        <div className=\"space-y-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Detaillierte Analytics</h2>\n            <a\n              href=\"/admin/time-tracking/analytics\"\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2\"\n            >\n              <span>üìä</span>\n              <span>Vollst√§ndige Analytics √∂ffnen</span>\n            </a>\n          </div>\n\n          {/* Module Analysis */}\n          {Object.keys(stats.moduleStats).length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Zeitintensivste Module</h3>\n              <div className=\"space-y-2\">\n                {Object.entries(stats.moduleStats)\n                  .sort(([, a], [, b]) => b - a)\n                  .slice(0, 5)\n                  .map(([module, minutes]) => (\n                    <div\n                      key={module}\n                      className=\"flex justify-between items-center p-2 bg-blue-50 rounded\"\n                    >\n                      <span className=\"text-sm text-gray-700\">{module}</span>\n                      <span className=\"font-semibold text-blue-600\">{formatDuration(minutes)}</span>\n                    </div>\n                  ))}\n              </div>\n            </Card>\n          )}\n\n          {/* Problem Analysis */}\n          {Object.keys(stats.problemStats).length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">H√§ufigste Probleme</h3>\n              <div className=\"space-y-2\">\n                {Object.entries(stats.problemStats)\n                  .sort(([, a], [, b]) => b - a)\n                  .slice(0, 5)\n                  .map(([problem, count]) => (\n                    <div\n                      key={problem}\n                      className=\"flex justify-between items-center p-2 bg-red-50 rounded\"\n                    >\n                      <span className=\"text-sm text-gray-700\">{problem}</span>\n                      <span className=\"font-semibold text-red-600\">{count}x</span>\n                    </div>\n                  ))}\n              </div>\n            </Card>\n          )}\n\n          {/* Category Analysis */}\n          {Object.keys(stats.categoryStats).length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Zeitverteilung nach Kategorien</h3>\n              <div className=\"space-y-2\">\n                {Object.entries(stats.categoryStats)\n                  .sort(([, a], [, b]) => b - a)\n                  .map(([category, minutes]) => (\n                    <div\n                      key={category}\n                      className=\"flex justify-between items-center p-2 bg-purple-50 rounded\"\n                    >\n                      <span className=\"text-sm text-gray-700 capitalize\">{category}</span>\n                      <span className=\"font-semibold text-purple-600\">\n                        {formatDuration(minutes)}\n                      </span>\n                    </div>\n                  ))}\n              </div>\n            </Card>\n          )}\n\n          {/* Quick Preview Card */}\n          <Card className=\"p-6 bg-gradient-to-r from-blue-50 to-purple-50\">\n            <h3 className=\"text-lg font-semibold mb-4\">üöÄ Erweiterte Analytics verf√ºgbar</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n              <div className=\"text-center p-3 bg-white rounded-lg\">\n                <span className=\"text-2xl\">üìÖ</span>\n                <p className=\"text-sm font-medium mt-1\">Tages√ºbersicht</p>\n                <p className=\"text-xs text-gray-600\">Alle Sessions des Tages</p>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg\">\n                <span className=\"text-2xl\">üìà</span>\n                <p className=\"text-sm font-medium mt-1\">Wochen√ºbersicht</p>\n                <p className=\"text-xs text-gray-600\">Balkendiagramm pro Wochentag</p>\n              </div>\n              <div className=\"text-center p-3 bg-white rounded-lg\">\n                <span className=\"text-2xl\">üîç</span>\n                <p className=\"text-sm font-medium mt-1\">Filterbar</p>\n                <p className=\"text-xs text-gray-600\">Nach Benutzer, Zeitraum, Projekt</p>\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <a\n                href=\"/admin/time-tracking/analytics\"\n                className=\"inline-flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <span>üìä</span>\n                <span>Vollst√§ndige Analytics √∂ffnen</span>\n              </a>\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {/* Projekt-Dialog: Automatisch √∂ffnen wenn keine Projekte vorhanden */}\n      <Dialog open={showProjectDialog} onClose={() => setShowProjectDialog(false)}>\n        <div className=\"p-4\">\n          <h2 className=\"text-xl font-bold mb-4\">‚ûï Neues Projekt anlegen</h2>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Kunde <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                value={newProject.customer_id}\n                onChange={(e) =>\n                  setNewProject({ ...newProject, customer_id: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"\">-- Kunde ausw√§hlen --</option>\n                {customers.map((customer) => (\n                  <option key={customer.id} value={customer.id}>\n                    {customer.company_name || customer.name || `Kunde ${customer.id}`}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Projektname <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={newProject.project_name}\n                onChange={(e) =>\n                  setNewProject({ ...newProject, project_name: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"z.B. Lopez IT Welt\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Projektcode (optional)\n              </label>\n              <input\n                type=\"text\"\n                value={newProject.project_code}\n                onChange={(e) =>\n                  setNewProject({ ...newProject, project_code: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"z.B. LITW-001\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Beschreibung (optional)\n              </label>\n              <textarea\n                value={newProject.description}\n                onChange={(e) =>\n                  setNewProject({ ...newProject, description: e.target.value })\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                rows={3}\n                placeholder=\"Beschreibung des Projekts\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Startdatum (optional)\n                </label>\n                <input\n                  type=\"date\"\n                  value={newProject.start_date}\n                  onChange={(e) =>\n                    setNewProject({ ...newProject, start_date: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Enddatum (optional)\n                </label>\n                <input\n                  type=\"date\"\n                  value={newProject.end_date}\n                  onChange={(e) =>\n                    setNewProject({ ...newProject, end_date: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-6 flex justify-end space-x-3\">\n            <button\n              onClick={() => setShowProjectDialog(false)}\n              className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n            >\n              Abbrechen\n            </button>\n            <button\n              onClick={async () => {\n                if (!newProject.customer_id || !newProject.project_name) {\n                  alert(\"‚ùå Bitte Kunde und Projektname angeben.\");\n                  return;\n                }\n\n                try {\n                  const response = await fetch(\"/api/projects\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify({\n                      customer_id: parseInt(newProject.customer_id),\n                      project_name: newProject.project_name,\n                      project_code: newProject.project_code || null,\n                      description: newProject.description || null,\n                      start_date: newProject.start_date || null,\n                      end_date: newProject.end_date || null,\n                      status: newProject.status,\n                      created_by: 1,\n                    }),\n                  });\n\n                  if (response.ok) {\n                    const result = await response.json();\n                    \n                    // Projekte neu laden\n                    await loadProjectsOrdersTasks();\n                    \n                    // Dialog schlie√üen\n                    setShowProjectDialog(false);\n                    \n                    // Projekt automatisch ausw√§hlen\n                    if (result.data?.id) {\n                      setNewSession({\n                        ...newSession,\n                        project_id: result.data.id,\n                      });\n                    }\n\n                    // Formular zur√ºcksetzen\n                    setNewProject({\n                      customer_id: customers.length > 0 ? customers[0].id.toString() : \"\",\n                      project_name: \"\",\n                      project_code: \"\",\n                      description: \"\",\n                      start_date: \"\",\n                      end_date: \"\",\n                      status: \"open\",\n                    });\n\n                    alert(\"‚úÖ Projekt erfolgreich erstellt und ausgew√§hlt!\");\n                  } else {\n                    const error = await response.json();\n                    alert(`‚ùå Fehler: ${error.error || \"Projekt konnte nicht erstellt werden\"}`);\n                  }\n                } catch (error) {\n                  console.error(\"‚ùå Fehler beim Erstellen des Projekts:\", error);\n                  alert(\"‚ùå Fehler beim Erstellen des Projekts.\");\n                }\n              }}\n              disabled={!newProject.customer_id || !newProject.project_name}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Projekt anlegen\n            </button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AA0Be,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAY;QAC5C,eAAe;QACf,gBAAgB;QAChB,WAAW;QACX,WAAW;QACX,aAAa;YAAE,QAAQ;YAAG,WAAW;YAAG,aAAa;QAAE;QACvD,eAAe,CAAC;QAChB,cAAc,CAAC;QACf,aAAa,CAAC;QACd,gBAAgB,CAAC;QACjB,aAAa;QACb,aAAa;IACf;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAqD;IAC/F,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAqB;IACzE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;QAC3C,aAAa;QACb,cAAc;QACd,cAAc;QACd,aAAa;QACb,YAAY;QACZ,UAAU;QACV,QAAQ;IACV;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAuB;QACjE,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,UAAU;QACV,YAAY;QACZ,UAAU;QACV,SAAS;QACT,SAAS;IACX;IAEA,IAAA,kNAAS,EAAC;QACR,iCAAiC;QACjC,gJAAS,CAAC,uBAAuB,CAC/B,sDACA;QAGF,MAAM,yBAAyB;YAC7B,IAAI;gBACF,sEAAsE;gBACtE,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,mBAAmB,MAAM,SAAS,IAAI;oBAC5C,MAAM,gBAAgB,iBAAiB,IAAI,CACzC,CAAC,IACC,EAAE,OAAO,KAAK,KACd,EAAE,MAAM,KAAK,YACb,CAAC,EAAE,QAAQ;oBAGf,IAAI,eAAe;wBACjB,0DAA0D;wBAC1D,kBAAkB;wBAClB;oBACF;gBACF;YAEA,wCAAwC;YACxC,0DAA0D;YAC1D,yCAAyC;YAEzC,gDAAgD;YAChD,uEAAuE;YAEzE,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0CAA0C;YAC1D;QACF;QAEA;QAEA;QACA;QAEA,gDAAgD;QAChD,MAAM,sBAAsB;YAC1B,IAAI,cAAc,YAAY;gBAC5B,mBAAmB;gBACnB,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,SAAS,EAAE,EAAE;wBACf,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,mBAAmB,MAAM,MAAM,SAAS,EAAE;oBAC5C;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,iDAAiD;gBACjE,SAAU;oBACR,mBAAmB;gBACrB;YACF;QACF;QAEA,oDAAoD;QACpD,IAAI,cAAc,YAAY;YAC5B;QACF;QAEA,gDAAgD;QAChD,IAAI;QACJ,MAAM,YAAY;YAChB,IAAI,CAAC,gBAAgB,IAAI;YACzB,MAAM,CAAC,kCAAkC,EAAE,eAAe,EAAE,CAAC,UAAU,CAAC,EAAE;gBACxE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW,IAAI,OAAO,WAAW;gBAAG;YAC7D,GAAG,KAAK,CAAC,KAAO;QAClB;QAEA,oBAAoB,YAAY,WAAW;QAE3C,MAAM,yBAAyB;YAC7B,IAAI,SAAS,MAAM,IAAI,gBAAgB;gBACrC,4BAA4B;gBAC5B,mBAAmB,eAAe,EAAE;YACtC;QACF;QAEA,SAAS,gBAAgB,CAAC,oBAAoB;QAE9C,oDAAoD;QACpD,OAAO;YACL,IAAI,mBAAmB,cAAc;YACrC,SAAS,mBAAmB,CAAC,oBAAoB;YACjD,IAAI,gBAAgB;gBAClB,sBAAsB,eAAe,EAAE,EAAE,CAAC;YAC5C;QACF;IACF,GAAG;QAAC;KAAe;IAEnB,wCAAwC;IACxC,MAAM,0BAA0B;QAC9B,IAAI;YACF,MAAM,CAAC,aAAa,WAAW,UAAU,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACzE,MAAM,iBAAiB,KAAK,CAAC,IAAM;gBACnC,MAAM,eAAe,KAAK,CAAC,IAAM;gBACjC,MAAM,cAAc,KAAK,CAAC,IAAM;gBAChC,MAAM,wBAAwB,KAAK,CAAC,IAAM;aAC3C;YAED,IAAI,aAAa,IAAI;gBACnB,MAAM,OAAO,MAAM,YAAY,IAAI;gBACnC,QAAQ,GAAG,CAAC,wBAAwB;gBACpC,MAAM,iBAAiB,MAAM,MAAM,YAAY,MAAM,YAAY,EAAE;gBACnE,YAAY;gBAEZ,2DAA2D;gBAC3D,IAAI,eAAe,MAAM,KAAK,KAAK,CAAC,mBAAmB;oBACrD,qBAAqB;gBACvB;YACF,OAAO;gBACL,QAAQ,KAAK,CAAC,4CAA4C,aAAa;YACzE;YAEA,IAAI,WAAW,IAAI;gBACjB,MAAM,OAAO,MAAM,UAAU,IAAI;gBACjC,UAAU,MAAM,MAAM,UAAU,MAAM,UAAU,EAAE;YACpD;YAEA,IAAI,UAAU,IAAI;gBAChB,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ,GAAG,CAAC,wBAAwB;gBACpC,SAAS,MAAM,MAAM,SAAS,MAAM,SAAS,EAAE;YACjD,OAAO;gBACL,QAAQ,KAAK,CAAC,4CAA4C,UAAU;YACtE;YAEA,IAAI,cAAc,IAAI;gBACpB,MAAM,OAAO,MAAM,aAAa,IAAI;gBACpC,MAAM,kBAAkB,MAAM,MAAM,aAAa,MAAM,aAAa,EAAE;gBACtE,aAAa;gBAEb,mDAAmD;gBACnD,IAAI,gBAAgB,MAAM,GAAG,KAAK,CAAC,WAAW,WAAW,EAAE;oBACzD,cAAc,CAAC,OAAS,CAAC;4BACvB,GAAG,IAAI;4BACP,aAAa,eAAe,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ;wBAC7C,CAAC;gBACH;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uDAAuD;QACvE;IACF;IAEA,gDAAgD;IAChD,MAAM,WAAW;QACf,IAAI;YACF,MAAM,CAAC,aAAa,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAChD,MAAM;gBACN,MAAM;aACP;YAED,IAAI,YAAY,EAAE,EAAE;gBAClB,MAAM,eAAe,MAAM,YAAY,IAAI;gBAC3C,YAAY;gBAEZ,wBAAwB;gBACxB,gJAAS,CAAC,cAAc,CAAC,iBAAiB,gCAAgC;YAC5E,OAAO;gBACL,gBAAgB;gBAChB,gJAAS,CAAC,QAAQ,CAChB,iBACA,iCACA,YACA,CAAC,KAAK,EAAE,YAAY,MAAM,EAAE;YAEhC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,SAAS;gBAET,wBAAwB;gBACxB,gJAAS,CAAC,cAAc,CAAC,iBAAiB,mCAAmC;YAC/E,OAAO;gBACL,gBAAgB;gBAChB,gJAAS,CAAC,QAAQ,CAChB,iBACA,oCACA,YACA,CAAC,KAAK,EAAE,SAAS,MAAM,EAAE;YAE7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAE9C,gBAAgB;YAChB,gJAAS,CAAC,QAAQ,CAChB,iBACA,8BACA,YACA,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAE7C,SAAU;YACR,WAAW;QACb;IACF;IAEA,+CAA+C;IAC/C,MAAM,YAAY,CAAC,QAAgB;QACjC,gJAAS,CAAC,cAAc,CAAC,iBAAiB,QAAQ,mBAAmB;IACvE;IAEA,MAAM,sBAAsB,OAC1B,WACA,QACA;IAEA,oCAAoC;IACtC;IAEA,MAAM,sBAAsB,OAAO,WAAmB;IACpD,oCAAoC;IACtC;IAEA,MAAM,qBAAqB;QACzB,IAAI;YACF,qDAAqD;YAErD,yDAAyD;YACzD,IAAI,kBAAkB,eAAe,MAAM,KAAK,YAAY,CAAC,eAAe,QAAQ,EAAE;gBACpF,MAAM,iBAAiB,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,eAAe,UAAU;gBAC9E,MAAM,cAAc,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,eAAe,OAAO;gBACrE,MAAM,qBACJ,kBAAkB,eAAe,eAAe,UAAU,GACtD,CAAC,SAAS,EAAE,eAAe,YAAY,IAAI,eAAe,IAAI,CAAC,YAAY,EAAE,YAAY,UAAU,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,eAAe,UAAU,EAAE,GACzJ,eAAe,UAAU,IAAI,eAAe,MAAM;gBACxD,MAAM,eAAe,QACnB,CAAC,wCAAwC,EAAE,mBAAmB,oCAAoC,CAAC;gBAErG,IAAI,cAAc;oBAChB,MAAM,sBAAsB,eAAe,EAAE,EAAE,CAAC;gBAClD,OAAO;oBACL,QAAQ,mEAAmE;gBAC7E;YACF;YAEA,MAAM,cAAoC;gBACxC,SAAS;gBACT,YAAY,WAAW,UAAU,IAAI;gBACrC,UAAU,WAAW,QAAQ,IAAI;gBACjC,UAAU,WAAW,QAAQ,IAAI;gBACjC,YAAY,WAAW,UAAU;gBACjC,UAAU,WAAW,QAAQ;gBAC7B,SAAS,WAAW,OAAO;gBAC3B,SAAS,WAAW,OAAO,IAAI;gBAC/B,QAAQ;YACV;YAEA,MAAM,WAAW,MAAM,MAAM,qCAAqC;gBAChE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,SAAS,MAAM,SAAS,IAAI;gBAElC,oEAAoE;gBACpE,IAAI,OAAO,OAAO,IAAI,OAAO,OAAO,KAAK,oCAAoC;oBAC3E,MAAM,kBAAkB,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,UAAU;oBAC/E,MAAM,eAAe,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,OAAO;oBACtE,MAAM,eAAe,mBAAmB,eACpC,GAAG,gBAAgB,YAAY,IAAI,gBAAgB,IAAI,CAAC,GAAG,EAAE,aAAa,UAAU,IAAI,aAAa,KAAK,CAAC,EAAE,EAAE,OAAO,OAAO,CAAC,UAAU,EAAE,GAC1I,OAAO,OAAO,CAAC,UAAU,IAAI,OAAO,OAAO,CAAC,MAAM;oBACtD,MAAM,CAAC,8CAA8C,EAAE,aAAa,kCAAkC,CAAC;oBACvG,kBAAkB,OAAO,OAAO;oBAChC,eAAe;oBACf,MAAM;oBACN;gBACF;gBAEA,2CAA2C;gBAC3C,MAAM,iBAAiB;gBACvB,kBAAkB;gBAClB,eAAe;gBAEf,wBAAwB;gBACxB,cAAc;oBACZ,QAAQ;oBACR,YAAY;oBACZ,UAAU;oBACV,UAAU;oBACV,YAAY;oBACZ,UAAU;oBACV,SAAS;oBACT,SAAS;gBACX;gBAEA,kBAAkB;gBAClB,MAAM;gBAEN,gBAAgB;gBAChB,gJAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,YAAY,MAAM,EAAE,EAAE;YACxF,OAAO;gBACL,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,SAAS,MAAM,KAAK,IAAI;gBACxB,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,kCAAkC,YAAY,MAAM,KAAK;YAC/F;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sCAAsC;YACpD,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAClD,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,kCAAkC,YAAY,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC7H;IACF;IAEA,MAAM,wBAAwB,OAC5B,WACA;QAOA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,kCAAkC,EAAE,UAAU,SAAS,CAAC,EAAE;gBACtF,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,iBAAiB,MAAM,SAAS,IAAI;gBAE1C,iCAAiC;gBACjC,IAAI,gBAAgB,OAAO,WAAW;oBACpC,kBAAkB;gBACpB;gBAEA,qBAAqB;gBACrB,MAAM;gBAEN,gBAAgB;gBAChB,gJAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,QAAQ,EAAE,UAAU,oBAAoB,CAAC,EAAE;gBAEtF,OAAO;YACT,OAAO;gBACL,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,SAAS,MAAM,KAAK,IAAI;gBACxB,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,kCAAkC,YAAY,MAAM,KAAK;gBAC7F,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;YACjC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sCAAsC;YACpD,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAClD,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,kCAAkC,YAAY,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC7H;IACF;IAEA,MAAM,oBAAoB,CAAC,WAAmB;QAC5C,MAAM,QAAQ,IAAI,KAAK;QACvB,MAAM,MAAM,UAAU,IAAI,KAAK,WAAW,IAAI;QAC9C,MAAM,SAAS,IAAI,OAAO,KAAK,MAAM,OAAO;QAC5C,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS,CAAC,OAAO,KAAK,EAAE;QACrD,MAAM,cAAc,KAAK,KAAK,CAAC,AAAC,SAAS,CAAC,OAAO,KAAK,EAAE,IAAK,CAAC,OAAO,EAAE;QACvE,OAAO,GAAG,UAAU,EAAE,EAAE,YAAY,CAAC,CAAC;IACxC;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;QACnC,MAAM,OAAO,UAAU;QACvB,OAAO,QAAQ,IAAI,GAAG,MAAM,EAAE,EAAE,KAAK,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,CAAC;IAC1D;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,KAAK,YAAY,cAAc,CAAC,SAAS;YAClD,KAAK;YACL,OAAO;YACP,MAAM;YACN,MAAM;YACN,QAAQ;QACV;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,SAAS;YACb,QAAQ;YACR,WAAW;YACX,aAAa;QACf;QACA,qBACE,8OAAC;YACC,WAAW,CAAC,2CAA2C,EAAE,MAAM,CAAC,OAA8B,EAAE;sBAE/F,WAAW,WAAW,UAAU,WAAW,cAAc,kBAAkB;;;;;;IAGlF;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,SAAS;YACb,KAAK;YACL,QAAQ;YACR,MAAM;QACR;QACA,qBACE,8OAAC;YACC,WAAW,CAAC,2CAA2C,EAAE,MAAM,CAAC,SAAgC,EAAE;sBAEjG,aAAa,QAAQ,YAAY,aAAa,WAAW,WAAW;;;;;;IAG3E;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCAGtD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAI/B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACZ;wBACC;4BAAE,IAAI;4BAAY,OAAO;4BAAa,MAAM;wBAAK;wBACjD;4BAAE,IAAI;4BAAY,OAAO;4BAAY,MAAM;wBAAK;wBAChD;4BAAE,IAAI;4BAAY,OAAO;4BAAe,MAAM;wBAAK;wBACnD;4BAAE,IAAI;4BAAa,OAAO;4BAAa,MAAM;wBAAK;qBACnD,CAAC,GAAG,CAAC,CAAC,oBACL,8OAAC;4BAEC,SAAS;gCACP,aAAa,IAAI,EAAE;gCAEnB,oEAAoE;gCACpE,IAAI,IAAI,EAAE,KAAK,YAAY;oCACzB,mBAAmB;oCACnB,IAAI;wCACF,MAAM,WAAW,MAAM,MAAM;wCAC7B,IAAI,SAAS,EAAE,EAAE;4CACf,MAAM,OAAO,MAAM,SAAS,IAAI;4CAChC,mBAAmB,MAAM,MAAM,SAAS,EAAE;wCAC5C;oCACF,EAAE,OAAO,OAAO;wCACd,QAAQ,KAAK,CAAC,iDAAiD;oCACjE,SAAU;wCACR,mBAAmB;oCACrB;gCACF;4BACF;4BACA,WAAW,CAAC,+EAA+E,EACzF,cAAc,IAAI,EAAE,GAChB,8BACA,qCACJ;;8CAEF,8OAAC;8CAAM,IAAI,IAAI;;;;;;8CACf,8OAAC;8CAAM,IAAI,KAAK;;;;;;;2BA3BX,IAAI,EAAE;;;;;;;;;;;;;;;YAkClB,cAAc,cAAc,uBAC3B,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC,kJAAK;gCACJ,WAAW,gBAAgB;gCAC3B,QAAQ;oCACN,IAAI,gBAAgB;wCAClB,sBAAsB,eAAe,EAAE,EAAE,CAAC;oCAC5C;gCACF;gCACA,mBAAmB,CAAC;oCAClB,8BAA8B;oCAC9B,QAAQ,GAAG,CAAC,CAAC,2BAA2B,EAAE,SAAS,QAAQ,CAAC;gCAC9D;gCACA,WAAW,CAAC,CAAC;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,wIAAI;gCAAC,WAAU;0CACd,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DAAW;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DAAoC,MAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;0CAK1E,8OAAC,wIAAI;gCAAC,WAAU;0CACd,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DAAW;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DAAoC,MAAM,cAAc;;;;;;;;;;;;;;;;;;;;;;;0CAK3E,8OAAC,wIAAI;gCAAC,WAAU;0CACd,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DAAW;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DACV,eAAe,MAAM,SAAS;;;;;;;;;;;;;;;;;;;;;;;0CAMvC,8OAAC,wIAAI;gCAAC,WAAU;0CACd,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DAAW;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DACV,eAAe,MAAM,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQzC,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,8OAAC;gDAAE,WAAU;0DAAqC,MAAM,WAAW,CAAC,SAAS;;;;;;;;;;;;kDAE/E,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,8OAAC;gDAAE,WAAU;0DAAsC,MAAM,WAAW,CAAC,MAAM;;;;;;;;;;;;kDAE7E,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,8OAAC;gDAAE,WAAU;0DAAmC,MAAM,WAAW,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;kCAMnF,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,8OAAC;gDAAE,WAAU;;oDAAoC,MAAM,WAAW;oDAAC;;;;;;;;;;;;;kDAErE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,8OAAC;gDAAE,WAAU;0DACV,eAAe,MAAM,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAS5C,cAAc,4BACb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAI,WAAU;;oCACZ,SAAS,MAAM,cAAc,GAAG,mBAC/B,8OAAC;wCACC,SAAS;4CACP,IAAI,QAAQ,CAAC,0BAA0B,EAAE,MAAM,cAAc,CAAC,0BAA0B,CAAC,GAAG;gDAC1F,IAAI;oDACF,WAAW;oDACX,MAAM,WAAW,MAAM,MAAM,+CAA+C;wDAC1E,QAAQ;wDACR,SAAS;4DAAE,gBAAgB;wDAAmB;oDAChD;oDAEA,IAAI,SAAS,EAAE,EAAE;wDACf,MAAM,SAAS,MAAM,SAAS,IAAI;wDAClC,MAAM,CAAC,EAAE,EAAE,OAAO,OAAO,IAAI,GAAG,OAAO,WAAW,CAAC,6BAA6B,CAAC,EAAE;wDAEnF,gCAAgC;wDAChC,kBAAkB;wDAElB,kBAAkB;wDAClB,MAAM;wDAEN,gBAAgB;wDAChB,gJAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,KAAK,EAAE,OAAO,WAAW,CAAC,iBAAiB,CAAC,EAAE;oDAC3F,OAAO;wDACL,MAAM,QAAQ,MAAM,SAAS,IAAI;wDACjC,SAAS,MAAM,KAAK,IAAI;wDACxB,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,wCAAwC,YAAY,MAAM,KAAK;oDACrG;gDACF,EAAE,OAAO,OAAO;oDACd,QAAQ,KAAK,CAAC,yCAAyC;oDACvD,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;oDAClD,gJAAS,CAAC,QAAQ,CAAC,iBAAiB,wCAAwC,YAAY,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gDACnI,SAAU;oDACR,WAAW;gDACb;4CACF;wCACF;wCACA,WAAU;wCACV,OAAO,GAAG,MAAM,cAAc,CAAC,wBAAwB,CAAC;;4CACzD;4CACmB,MAAM,cAAc;4CAAC;;;;;;;kDAG3C,8OAAC;wCACC,SAAS,IAAM,eAAe,CAAC;wCAC/B,WAAU;kDAET,cAAc,cAAc;;;;;;;;;;;;;;;;;;oBAMlC,6BACC,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;;oDAA+C;kEACtD,8OAAC;wDAAK,WAAU;kEAAe;;;;;;;;;;;;0DAEzC,8OAAC;gDACC,OAAO,WAAW,UAAU,IAAI;gDAChC,UAAU,CAAC;oDACT,MAAM,YAAY,EAAE,MAAM,CAAC,KAAK,GAAG,SAAS,EAAE,MAAM,CAAC,KAAK,IAAI;oDAC9D,cAAc;wDACZ,GAAG,UAAU;wDACb,YAAY;wDACZ,SAAS;oDACX;gDACF;gDACA,WAAU;gDACV,QAAQ;;kEAER,8OAAC;wDAAO,OAAM;kEACX,SAAS,MAAM,KAAK,IACjB,uCACA;;;;;;oDAEL,SAAS,MAAM,KAAK,kBACnB,8OAAC;wDAAO,OAAM;wDAAG,QAAQ;kEAAC;;;;;+DAI1B,SAAS,GAAG,CAAC,CAAC,wBACZ,8OAAC;4DAAwB,OAAO,QAAQ,EAAE;sEACvC,QAAQ,YAAY,IAAI,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;2DADrD,QAAQ,EAAE;;;;;;;;;;;4CAM5B,SAAS,MAAM,KAAK,mBACnB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAE,WAAU;kEAA+B;;;;;;kEAG5C,8OAAC;wDACC,SAAS,IAAM,qBAAqB;wDACpC,WAAU;kEACX;;;;;;;;;;;;;;;;;;kDAQP,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;;oDAA+C;kEACtD,8OAAC;wDAAK,WAAU;kEAAe;;;;;;;;;;;;0DAEzC,8OAAC;gDACC,OAAO,WAAW,OAAO,IAAI;gDAC7B,UAAU,CAAC;oDACT,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK,GAAG,SAAS,EAAE,MAAM,CAAC,KAAK,IAAI;oDAC3D,cAAc;wDACZ,GAAG,UAAU;wDACb,SAAS;oDACX;gDACF;gDACA,WAAU;gDACV,QAAQ;gDACR,UAAU,CAAC,WAAW,UAAU;;kEAEhC,8OAAC;wDAAO,OAAM;kEACX,CAAC,WAAW,UAAU,GACnB,yCACA;;;;;;oDAEL,MACE,MAAM,CAAC,CAAC,OAAS,CAAC,WAAW,UAAU,IAAI,KAAK,UAAU,KAAK,WAAW,UAAU,EACpF,MAAM,KAAK,kBACV,8OAAC;wDAAO,OAAM;wDAAG,QAAQ;kEACtB,CAAC,WAAW,UAAU,GACnB,yCACA;;;;;+DAGN,MACG,MAAM,CAAC,CAAC,OAAS,CAAC,WAAW,UAAU,IAAI,KAAK,UAAU,KAAK,WAAW,UAAU,EACpF,GAAG,CAAC,CAAC,qBACJ,8OAAC;4DAAqB,OAAO,KAAK,EAAE;sEACjC,KAAK,UAAU,IAAI,KAAK,KAAK,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;2DAD3C,KAAK,EAAE;;;;;;;;;;;;;;;;;kDAShC,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;;oDAA+C;kEACpD,8OAAC;wDAAK,WAAU;kEAAe;;;;;;;;;;;;0DAE3C,8OAAC;gDACC,MAAK;gDACL,OAAO,WAAW,UAAU;gDAC5B,UAAU,CAAC;oDACT,cAAc;wDACZ,GAAG,UAAU;wDACb,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC5B;gDACF;gDACA,WAAU;gDACV,aAAY;gDACZ,WAAW;gDACX,WAAW;gDACX,QAAQ;;;;;;0DAEV,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;;;;;;;;0CAK9C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,8OAAC;gDACC,OAAO,WAAW,QAAQ;gDAC1B,UAAU,CAAC,IACT,cAAc;wDACZ,GAAG,UAAU;wDACb,UAAU,EAAE,MAAM,CAAC,KAAK;oDAC1B;gDAEF,WAAU;;kEAEV,8OAAC;wDAAO,OAAM;kEAAc;;;;;;kEAC5B,8OAAC;wDAAO,OAAM;kEAAS;;;;;;kEACvB,8OAAC;wDAAO,OAAM;kEAAW;;;;;;kEACzB,8OAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,8OAAC;wDAAO,OAAM;kEAAgB;;;;;;;;;;;;;;;;;;kDAGlC,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,8OAAC;gDACC,OAAO,WAAW,QAAQ;gDAC1B,UAAU,CAAC,IACT,cAAc;wDACZ,GAAG,UAAU;wDACb,UAAU,EAAE,MAAM,CAAC,KAAK;oDAC1B;gDAEF,WAAU;;kEAEV,8OAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,8OAAC;wDAAO,OAAM;kEAAS;;;;;;kEACvB,8OAAC;wDAAO,OAAM;kEAAO;;;;;;;;;;;;;;;;;;;;;;;;0CAI3B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,eAAe;wCAC9B,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,SAAS;4CACP,4BAA4B;4CAC5B,IAAI,CAAC,WAAW,UAAU,EAAE;gDAC1B,MAAM;gDACN;4CACF;4CACA,IAAI,CAAC,WAAW,OAAO,EAAE;gDACvB,MAAM;gDACN;4CACF;4CACA,IAAI,CAAC,WAAW,UAAU,IAAI,WAAW,UAAU,CAAC,IAAI,GAAG,MAAM,GAAG,GAAG;gDACrE,MAAM;gDACN;4CACF;4CACA,IAAI,WAAW,UAAU,CAAC,MAAM,GAAG,KAAK;gDACtC,MAAM;gDACN;4CACF;4CAEA,uCAAuC;4CACvC,MAAM,oBAAoB;gDACxB;gDACA;gDACA;gDACA;gDACA;gDACA;6CACD;4CACD,MAAM,sBAAsB,kBAAkB,IAAI,CAAC,CAAC,UAClD,QAAQ,IAAI,CAAC,WAAW,UAAU;4CAEpC,IAAI,qBAAqB;gDACvB,MACE;gDAEF;4CACF;4CAEA,kBAAkB;4CAClB;wCACF;wCACA,UACE,CAAC,WAAW,UAAU,IACtB,CAAC,WAAW,OAAO,IACnB,CAAC,WAAW,UAAU,IACtB,WAAW,UAAU,CAAC,IAAI,GAAG,MAAM,GAAG,KACtC,WAAW,UAAU,CAAC,MAAM,GAAG;wCAEjC,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAQP,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;4BAC1C,SAAS,MAAM,KAAK,kBACnB,8OAAC;gCAAE,WAAU;0CAAiC;;;;;qDAE9C,8OAAC;gCAAI,WAAU;0CACZ,SACE,IAAI,CACH,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,IAE5E,GAAG,CAAC,CAAC;oCACJ,2DAA2D;oCAC3D,MAAM,UAAU,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,UAAU;oCAChE,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,OAAO;oCAEvD,qBACE,8OAAC;wCAAqB,WAAU;;0DAC9B,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;4DAEZ,yBACC,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;wEAAK,WAAU;kFAAoC;;;;;;oEAAgB;kFACpE,8OAAC;wEAAK,WAAU;kFACb,QAAQ,YAAY,IAAI,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,QAAQ,UAAU,EAAE;;;;;;;;;;;;4DAK7E,sBACC,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;wEAAK,WAAU;kFAAoC;;;;;;oEAAgB;kFACpE,8OAAC;wEAAK,WAAU;kFACb,KAAK,UAAU,IAAI,KAAK,KAAK,IAAI,CAAC,QAAQ,EAAE,QAAQ,OAAO,EAAE;;;;;;;;;;;;0EAKpE,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;wEAAK,WAAU;kFAAoC;;;;;;oEAAkB;kFACtE,8OAAC;wEAAK,WAAU;kFAAyB,QAAQ,UAAU;;;;;;;;;;;;;;;;;;kEAG/D,8OAAC;wDAAI,WAAU;;4DACZ,eAAe,QAAQ,MAAM;4DAC7B,iBAAiB,QAAQ,QAAQ;;;;;;;;;;;;;0DAIxC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAK,WAAU;0EAAc;;;;;;4DAAc;4DAC3C,eAAe,QAAQ,UAAU;;;;;;;oDAEnC,QAAQ,QAAQ,kBACf,8OAAC;;0EACC,8OAAC;gEAAK,WAAU;0EAAc;;;;;;4DAAa;4DAC1C,eAAe,QAAQ,QAAQ;;;;;;;oDAGnC,QAAQ,gBAAgB,kBACvB,8OAAC;;0EACC,8OAAC;gEAAK,WAAU;0EAAc;;;;;;4DAAc;4DAC3C,eAAe,QAAQ,gBAAgB;;;;;;;;;;;;;4CAK7C,QAAQ,SAAS,kBAChB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAc;;;;;;oDAAgB;oDAAE,QAAQ,SAAS;;;;;;;4CAIpE,QAAQ,OAAO,kBACd,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAc;;;;;;oDAAe;oDAAE,QAAQ,OAAO;;;;;;;4CAIjE,QAAQ,MAAM,KAAK,0BAClB,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDACC,SAAS,IAAM,sBAAsB,QAAQ,EAAE,EAAE,CAAC;oDAClD,WAAU;8DACX;;;;;;;;;;;;uCArEK,QAAQ,EAAE;;;;;gCA4ExB;;;;;;;;;;;;;;;;;;YAQX,cAAc,4BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCACC,SAAS;oCACP,mBAAmB;oCACnB,IAAI;wCACF,MAAM,WAAW,MAAM,MAAM;wCAC7B,IAAI,SAAS,EAAE,EAAE;4CACf,MAAM,OAAO,MAAM,SAAS,IAAI;4CAChC,mBAAmB,MAAM,MAAM,SAAS,EAAE;wCAC5C,OAAO;4CACL,SAAS;wCACX;oCACF,EAAE,OAAO,OAAO;wCACd,QAAQ,KAAK,CAAC,iDAAiD;wCAC/D,SAAS;oCACX,SAAU;wCACR,mBAAmB;oCACrB;gCACF;gCACA,WAAU;;kDAEV,8OAAC;kDAAK;;;;;;kDACN,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;oBAIT,gCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;+BAElC,gBAAgB,MAAM,KAAK,kBAC7B,8OAAC,wIAAI;wBAAC,WAAU;kCACd,cAAA,8OAAC;4BAAE,WAAU;sCAAiC;;;;;;;;;;6CAKhD,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;4CAAwB;4CACR,gBAAgB,MAAM;4CAAC;;;;;;;kDAErD,8OAAC;wCAAI,WAAU;;4CAAwB;4CAC5B,gBAAgB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,gBAAgB,IAAI,CAAC,GAAG;4CAAG;4CAC9E,KAAK,KAAK,CAAC,gBAAgB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,gBAAgB,IAAI,CAAC,GAAG,KAAK,KAAK,OAAO;4CAAI;;;;;;;;;;;;;0CAG1G,8OAAC;gCAAI,WAAU;0CACZ,gBAAgB,GAAG,CAAC,CAAC,sBACpB,8OAAC;wCAEC,WAAU;kDAEV,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEAEb,8OAAC;4DAAG,WAAU;sEACX,MAAM,YAAY,IAAI,MAAM,UAAU,IAAI,MAAM,UAAU,GACvD,CAAC,SAAS,EAAE,MAAM,YAAY,CAAC,YAAY,EAAE,MAAM,UAAU,CAAC,GAAG,EAAE,MAAM,UAAU,EAAE,GACrF,MAAM,UAAU,IAAI,MAAM,MAAM;;;;;;sEAEtC,8OAAC;4DAAI,WAAU;;gEACZ,MAAM,YAAY,kBACjB,8OAAC;;sFACC,8OAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAe;wEAAE,MAAM,YAAY;;;;;;;gEAGpE,MAAM,UAAU,kBACf,8OAAC;;sFACC,8OAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAe;wEAAE,MAAM,UAAU;;;;;;;gEAGlE,MAAM,UAAU,kBACf,8OAAC;;sFACC,8OAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAiB;wEAAE,MAAM,UAAU;;;;;;;gEAGpE,MAAM,YAAY,kBACjB,8OAAC;;sFACC,8OAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAe;wEAAE,MAAM,YAAY;;;;;;;gEAGpE,MAAM,QAAQ,kBACb,8OAAC;;sFACC,8OAAC;4EAAK,WAAU;sFAAc;;;;;;wEAAiB;wEAAE,MAAM,QAAQ;;;;;;;;;;;;;;;;;;;8DAKvE,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;sEACZ,eAAe,MAAM,gBAAgB,IAAI;;;;;;sEAE5C,8OAAC;4DAAI,WAAU;sEACZ,eAAe,MAAM,UAAU;;;;;;sEAElC,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAAyE;;;;;;8EAGzF,8OAAC;oEAAK,WAAU;8EAA2E;;;;;;;;;;;;;;;;;;;;;;;;uCAlD5F,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;YAiE1B,cAAc,eAAe,uBAC5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCACC,MAAK;gCACL,WAAU;;kDAEV,8OAAC;kDAAK;;;;;;kDACN,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;oBAKT,OAAO,IAAI,CAAC,MAAM,WAAW,EAAE,MAAM,GAAG,mBACvC,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;0CACZ,OAAO,OAAO,CAAC,MAAM,WAAW,EAC9B,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,IAAI,GAC3B,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,CAAC,QAAQ,QAAQ,iBACrB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;0DAA+B,eAAe;;;;;;;uCAJzD;;;;;;;;;;;;;;;;oBAYhB,OAAO,IAAI,CAAC,MAAM,YAAY,EAAE,MAAM,GAAG,mBACxC,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;0CACZ,OAAO,OAAO,CAAC,MAAM,YAAY,EAC/B,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,IAAI,GAC3B,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,CAAC,SAAS,MAAM,iBACpB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAK,WAAU;0DAAyB;;;;;;0DACzC,8OAAC;gDAAK,WAAU;;oDAA8B;oDAAM;;;;;;;;uCAJ/C;;;;;;;;;;;;;;;;oBAYhB,OAAO,IAAI,CAAC,MAAM,aAAa,EAAE,MAAM,GAAG,mBACzC,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;0CACZ,OAAO,OAAO,CAAC,MAAM,aAAa,EAChC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,IAAI,GAC3B,GAAG,CAAC,CAAC,CAAC,UAAU,QAAQ,iBACvB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAK,WAAU;0DAAoC;;;;;;0DACpD,8OAAC;gDAAK,WAAU;0DACb,eAAe;;;;;;;uCALb;;;;;;;;;;;;;;;;kCAcjB,8OAAC,wIAAI;wBAAC,WAAU;;0CACd,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAW;;;;;;0DAC3B,8OAAC;gDAAE,WAAU;0DAA2B;;;;;;0DACxC,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;kDAEvC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAW;;;;;;0DAC3B,8OAAC;gDAAE,WAAU;0DAA2B;;;;;;0DACxC,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;kDAEvC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAW;;;;;;0DAC3B,8OAAC;gDAAE,WAAU;0DAA2B;;;;;;0DACxC,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAGzC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,MAAK;oCACL,WAAU;;sDAEV,8OAAC;sDAAK;;;;;;sDACN,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQhB,8OAAC,4IAAM;gBAAC,MAAM;gBAAmB,SAAS,IAAM,qBAAqB;0BACnE,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAyB;;;;;;sCAEvC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;;gDAA+C;8DACxD,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEvC,8OAAC;4CACC,OAAO,WAAW,WAAW;4CAC7B,UAAU,CAAC,IACT,cAAc;oDAAE,GAAG,UAAU;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE7D,WAAU;4CACV,QAAQ;;8DAER,8OAAC;oDAAO,OAAM;8DAAG;;;;;;gDAChB,UAAU,GAAG,CAAC,CAAC,yBACd,8OAAC;wDAAyB,OAAO,SAAS,EAAE;kEACzC,SAAS,YAAY,IAAI,SAAS,IAAI,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE;uDADtD,SAAS,EAAE;;;;;;;;;;;;;;;;;8CAO9B,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;;gDAA+C;8DAClD,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAE7C,8OAAC;4CACC,MAAK;4CACL,OAAO,WAAW,YAAY;4CAC9B,UAAU,CAAC,IACT,cAAc;oDAAE,GAAG,UAAU;oDAAE,cAAc,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE9D,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;8CAIZ,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,8OAAC;4CACC,MAAK;4CACL,OAAO,WAAW,YAAY;4CAC9B,UAAU,CAAC,IACT,cAAc;oDAAE,GAAG,UAAU;oDAAE,cAAc,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE9D,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,8OAAC;4CACC,OAAO,WAAW,WAAW;4CAC7B,UAAU,CAAC,IACT,cAAc;oDAAE,GAAG,UAAU;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE7D,WAAU;4CACV,MAAM;4CACN,aAAY;;;;;;;;;;;;8CAIhB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,8OAAC;oDACC,MAAK;oDACL,OAAO,WAAW,UAAU;oDAC5B,UAAU,CAAC,IACT,cAAc;4DAAE,GAAG,UAAU;4DAAE,YAAY,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAE5D,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,8OAAC;oDACC,MAAK;oDACL,OAAO,WAAW,QAAQ;oDAC1B,UAAU,CAAC,IACT,cAAc;4DAAE,GAAG,UAAU;4DAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAE1D,WAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAMlB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,qBAAqB;oCACpC,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,SAAS;wCACP,IAAI,CAAC,WAAW,WAAW,IAAI,CAAC,WAAW,YAAY,EAAE;4CACvD,MAAM;4CACN;wCACF;wCAEA,IAAI;4CACF,MAAM,WAAW,MAAM,MAAM,iBAAiB;gDAC5C,QAAQ;gDACR,SAAS;oDAAE,gBAAgB;gDAAmB;gDAC9C,MAAM,KAAK,SAAS,CAAC;oDACnB,aAAa,SAAS,WAAW,WAAW;oDAC5C,cAAc,WAAW,YAAY;oDACrC,cAAc,WAAW,YAAY,IAAI;oDACzC,aAAa,WAAW,WAAW,IAAI;oDACvC,YAAY,WAAW,UAAU,IAAI;oDACrC,UAAU,WAAW,QAAQ,IAAI;oDACjC,QAAQ,WAAW,MAAM;oDACzB,YAAY;gDACd;4CACF;4CAEA,IAAI,SAAS,EAAE,EAAE;gDACf,MAAM,SAAS,MAAM,SAAS,IAAI;gDAElC,qBAAqB;gDACrB,MAAM;gDAEN,mBAAmB;gDACnB,qBAAqB;gDAErB,gCAAgC;gDAChC,IAAI,OAAO,IAAI,EAAE,IAAI;oDACnB,cAAc;wDACZ,GAAG,UAAU;wDACb,YAAY,OAAO,IAAI,CAAC,EAAE;oDAC5B;gDACF;gDAEA,wBAAwB;gDACxB,cAAc;oDACZ,aAAa,UAAU,MAAM,GAAG,IAAI,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,KAAK;oDACjE,cAAc;oDACd,cAAc;oDACd,aAAa;oDACb,YAAY;oDACZ,UAAU;oDACV,QAAQ;gDACV;gDAEA,MAAM;4CACR,OAAO;gDACL,MAAM,QAAQ,MAAM,SAAS,IAAI;gDACjC,MAAM,CAAC,UAAU,EAAE,MAAM,KAAK,IAAI,wCAAwC;4CAC5E;wCACF,EAAE,OAAO,OAAO;4CACd,QAAQ,KAAK,CAAC,yCAAyC;4CACvD,MAAM;wCACR;oCACF;oCACA,UAAU,CAAC,WAAW,WAAW,IAAI,CAAC,WAAW,YAAY;oCAC7D,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}}]
}