#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ğŸš¦ Freigabe-Check vor allen anderen PrÃ¼fungen
node scripts/freigabe-check.js
if [ $? -ne 0 ]; then
  echo "ğŸš¨ Commit abgebrochen: Es fehlt eine Freigabe!"
  exit 1
fi

# ğŸ›¡ï¸ Anti-Regelbruch-System vor Commit prÃ¼fen
echo "ğŸ›¡ï¸ Anti-Regelbruch-System: Pre-Commit Validierung..."
node scripts/anti-rule-break-hook.js pre-commit

# Standard Tests
npm test
node scripts/pre-commit-freigabe-check.js
