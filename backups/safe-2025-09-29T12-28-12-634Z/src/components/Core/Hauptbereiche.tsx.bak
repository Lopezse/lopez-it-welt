'use client';
import { useState } from 'react';
import { useI18n } from '../Features/I18nProvider';

interface Service {
  icon: string;
  title: string;
  description: string;
  features: string[];
  id: string;
  altText: string;
  link: string;
}

const services: Service[] = [
  {
    icon: 'üñ•Ô∏è',
    title: 'IT-Support',
    description: 'Professioneller IT-Support vor Ort und remote',
    features: [
      'Remote & vor Ort Support',
      'Hilfe bei PC, Netzwerk, Software',
      'Individuelle L√∂sungen',
      'Schnelle Reaktionszeiten',
    ],
    id: 'it-support',
    altText: 'IT-Support Icon - Computer und Monitor Symbol',
    link: '/leistungen/it-support',
  },
  {
    icon: 'üîß',
    title: 'PC-Bau & Einrichtung',
    description: 'Individuell zusammengestellte Systeme',
    features: [
      'Ma√ügeschneiderte Konfigurationen',
      'Gaming & Workstation PCs',
      'Software-Installation',
      'Garantie & Support',
    ],
    id: 'pc-bau',
    altText: 'PC-Bau Icon - Schraubenschl√ºssel Symbol',
    link: '/leistungen/pc-bau',
  },
  {
    icon: 'üåê',
    title: 'Webdesign & Automatisierung',
    description: 'Moderne, barrierefreie Webentwicklung',
    features: [
      'Barrierefreie Websites',
      'Mehrsprachige L√∂sungen',
      'KI-basierte Automatisierung',
      'DSGVO-konform',
    ],
    id: 'webdesign',
    altText: 'Webdesign Icon - Globus Symbol f√ºr Internet',
    link: '/leistungen/webdesign',
  },
  {
    icon: 'ü§ñ',
    title: 'KI-Assistenz',
    description: 'Intelligente Automatisierung f√ºr Ihren Alltag',
    features: [
      'ChatGPT-Integration',
      'Bewerbungen & Texte',
      'Prozessautomatisierung',
      'Ma√ügeschneiderte L√∂sungen',
    ],
    id: 'ki-assistenz',
    altText: 'KI-Assistenz Icon - Roboter Symbol f√ºr k√ºnstliche Intelligenz',
    link: '/leistungen/ki-assistenz',
  },
  {
    icon: 'üìù',
    title: 'Formularservice',
    description: 'Professionelle Hilfe bei √Ñmtern und Antr√§gen',
    features: [
      'Beh√∂rdenangelegenheiten',
      'Krankenkassen-Antr√§ge',
      'Pers√∂nliche Beratung',
      'Erfahrung mit √Ñmtern',
    ],
    id: 'formularservice',
    altText: 'Formularservice Icon - Dokument mit Stift Symbol',
    link: '/leistungen/formularservice',
  },
  {
    icon: 'üõí',
    title: 'Webshop',
    description: 'Digitale Produkte zum sofortigen Download',
    features: [
      'Bewerbungsvorlagen',
      'Sicherheits-Tools',
      'Einmalzahlung',
      'Sofort-Download',
    ],
    id: 'webshop',
    altText: 'Webshop Icon - Einkaufswagen Symbol',
    link: '/webshop',
  },
];

export function Hauptbereiche() {
  const { t } = useI18n();
  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);
  const [focusedIndex, setFocusedIndex] = useState<number | null>(null);

  return (
    <section
      className='bg-gradient-to-br from-gray-800 via-blue-600 to-gray-800 py-12 sm:py-16 lg:py-20'
      aria-labelledby='kernleistungen-heading'
    >
      <div className='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
        {/* Header */}
        <div className='mb-12 text-center sm:mb-16 lg:mb-20'>
          <h2
            id='kernleistungen-heading'
            className='mb-4 lg:mb-6 text-3xl font-bold text-white sm:text-4xl lg:text-5xl'
          >
            Unsere Kernleistungen
          </h2>
          <p className='mx-auto max-w-3xl text-gray-300 text-lg sm:text-xl lg:text-2xl leading-relaxed'>
            Professionelle IT-Dienstleistungen mit Fokus auf Barrierefreiheit,
            Mehrsprachigkeit und pers√∂nliche Betreuung
          </p>
        </div>

        {/* Services Grid */}
        <div
          className='grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6 lg:grid-cols-3 lg:gap-8 xl:gap-10'
          role='region'
          aria-label='Leistungs√ºbersicht'
        >
          {services.map((service, index) => (
            <article
              key={index}
              id={service.id}
              role='article'
              aria-labelledby={`${service.id}-title`}
              tabIndex={0}
              className={`
                group relative cursor-pointer transform rounded-xl bg-white/10 p-6
                transition-all duration-300 hover:scale-105 focus:scale-105
                sm:hover:-translate-y-3 sm:focus:-translate-y-3
                ${hoveredIndex === index || focusedIndex === index ? 'scale-105' : 'scale-100'}
              `}
              onMouseEnter={() => setHoveredIndex(index)}
              onMouseLeave={() => setHoveredIndex(null)}
              onFocus={() => setFocusedIndex(index)}
              onBlur={() => setFocusedIndex(null)}
              onKeyDown={(e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                  e.preventDefault();
                  window.location.href = service.link;
                }
              }}
              onClick={() => window.location.href = service.link}
            >
              <div className='relative text-center'>
                {/* Icon */}
                <div
                  className='
                    mx-auto mb-6 text-4xl
                    rounded-xl bg-gradient-to-br from-white/20 to-transparent p-2
                    filter drop-shadow-lg
                    group-hover:animate-pulse group-hover:rotate-3 group-hover:scale-110
                    group-focus:animate-pulse group-focus:rotate-3 group-focus:scale-110
                    sm:mb-8 sm:rounded-2xl
                  '
                  aria-label={service.altText}
                >
                  {service.icon}
                </div>

                {/* Title */}
                <h3
                  id={`${service.id}-title`}
                  className='mb-4 sm:mb-6 text-xl font-semibold text-white sm:text-2xl'
                >
                  {service.title}
                </h3>

                {/* Description */}
                <p className='
                  mb-4 text-gray-300 leading-relaxed
                  text-sm sm:mb-6 sm:text-base lg:text-lg
                '>
                  {service.description}
                </p>

                {/* Features list */}
                <ul className='space-y-2 text-left sm:space-y-3' role='list'>
                  {service.features.map((feature, featureIndex) => (
                    <li
                      key={featureIndex}
                      className='
                        flex items-start leading-relaxed text-gray-300
                        transition-colors duration-200
                        text-xs group-hover:text-white/90 group-focus:text-white/90
                        sm:text-sm lg:text-base xl:text-lg
                      '
                    >
                      <span className='
                        mr-2 mt-0.5 flex-shrink-0 text-green-400
                        transition-transform duration-200
                        group-hover:scale-110 group-focus:scale-110
                        text-sm aria-hidden="true"
                        sm:mr-3 sm:text-lg
                      '>
                        ‚úì
                      </span>
                      <span className='flex-1'>{feature}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </article>
          ))}
        </div>

        {/* CTA */}
        <div className='mt-12 pb-4 text-center sm:mt-16 sm:pb-8 lg:mt-20'>
          <p className='mb-4 text-base text-gray-300 sm:mb-6 sm:text-lg lg:text-xl'>
            Ben√∂tigen Sie eine individuelle L√∂sung?
          </p>
          <button
            className='transform rounded-lg bg-blue-600 px-6 py-3 text-white font-semibold
              transition-all duration-300 hover:-translate-y-2 focus:-translate-y-2
              hover:bg-blue-700 focus:bg-blue-700'
            aria-describedby='beratung-description'
          >
            Beratung anfordern
          </button>
          <p id='beratung-description' className='sr-only'>
            √ñffnet ein Kontaktformular f√ºr eine pers√∂nliche Beratung
          </p>
        </div>
      </div>
    </section>
  );
}
